

title Tunnel City 
author Jon-Jon
homepage www.puzzlescript.net
run_rules_on_level_start
zoomscreen 21x18

(CREDIT: art borrowed and adapted from musurca - "Space Wreck [DEMO]")


========
OBJECTS
========

playerhascrate
transparent

Background
LightGrey

playeractioned
transparent

playeractionoff
transparent

np a
transparent

sp
transparent

ep
transparent

wp
transparent

hallway1 h
transparent

hallway2 i
transparent

fourway x
transparent

one
transparent

two
transparent

three
transparent

four
transparent

five
transparent

six
transparent

seven
transparent

eight
transparent

nine
transparent

ten
transparent

eleven
transparent

twelve
transparent

thirteen
transparent

fourteen
transparent

fifteen
transparent

sixteen
transparent

seventeen
transparent

eighteen
transparent

nineteen
transparent

twenty
transparent

twentyone
transparent

twentytwo
transparent


LeftSens
DarkGrey
.....
.....
.....
.....
.....


Floor
brown Black 
00010
00000
01000
00000
00000

Exit
Grey

Ceiling 
darkbrown



DarkWall
DarkGrey Grey
00100
00100
00100
00100
00100

DarkWallred 
darkgrey black
00100
00100
00100
00100
00100

redwalltrigger r
transparent

DarkWallblue 
darkgrey lightgrey
00100
00100
00100
00100
00100

bluewalltrigger b
transparent

LightWall
LightGrey Grey
00010
01000
00001
01010
10000

TopRightSlopingWall
DarkGrey darkbrown Black
11112
11120
11200
12000
20000

BottomRightSlopingWall
DarkGrey brown Black
20000
12000
11200
11120
11112

TopLeftSlopingWall
DarkGrey darkbrown Black
21111
02111
00211
00021
00002

BottomLeftSlopingWall
DarkGrey brown Black
00002
00021
00211
02111
21111



DirNorth
White
0...0
00..0
0.0.0
0.0.0
0..00

DirEast
White
00000
0....
00000
0....
00000

DirWest
White
0...0
0.0.0
0.0.0
0.0.0
00.00

DirSouth
White
00000
00...
.000.
...00
00000

TopLine
Black 
00000
.....
.....
.....
.....

BottomLine
Black
.....
.....
.....
.....
00000

LeftLine
Black
0....
0....
0....
0....
0....

RightLine
Black
....0
....0
....0
....0
....0

Screen
Orange White
00000
01100
01010
01010
00000

BrokenScreen
Orange Black
00110
01000
00100
01100
00000





LockClosed
Black Red
.000.
01110
01110
01110
.000.

LockOpen
white Green
.000.
01110
01110
01110
.000.

yellow 
yellow

green
green

placeholder z
transparent


eastwesthallway1 j
transparent

eastwesthallway2 k
transparent

movermarker ?
transparent

crate1
transparent

crate2
transparent

craterender
transparent red
10001
01010
00100
01010
10001

=======
LEGEND
=======
p = np or sp or wp or ep
. = Background
L = LeftSens

# = Floor

* = Ceiling
/ = DarkWall
0 = LightWall
2 = TopRightSlopingWall
3 = BottomRightSlopingWall
4 = TopLeftSlopingWall
5 = BottomLeftSlopingWall
G = Exit

& = TopLine
! = BottomLine
7 = LeftLine
8 = RightLine
Q = Screen
~ = BrokenScreen
N = DirNorth
W = DirWest
E = DirEast
S = DirSouth

y = LockClosed

c = crate1
d = crate2



NextRoom = Exit
IntObj = Screen or NextRoom


VertSurface = Floor or Ceiling
Wall = DarkWall or LightWall or Floor or Ceiling
ShadedWall = DarkWall or TopRightSlopingWall or BottomRightSlopingWall or TopLeftSlopingWall or BottomLeftSlopingWall
SlopingWall = TopRightSlopingWall or BottomRightSlopingWall or TopLeftSlopingWall or BottomLeftSlopingWall
Border = TopLine or BottomLine or LeftLine or RightLine
Direction = DirNorth or DirSouth or DirEast or DirWest
Sensor = LeftSens
Glass = Screen or BrokenScreen

anything = Exit or Screen or NextRoom or  Floor or Ceiling or  DarkWall or LightWall or Floor or Ceiling or DarkWall or TopRightSlopingWall or BottomRightSlopingWall or TopLeftSlopingWall or BottomLeftSlopingWall or TopRightSlopingWall or BottomRightSlopingWall or TopLeftSlopingWall or BottomLeftSlopingWall or TopLine or BottomLine or LeftLine or RightLine or DirNorth or DirSouth or DirEast or DirWest or LeftSens or Screen or BrokenScreen or one or two or three or four or five or six or seven or eight or nine or ten or eleven or twelve or thirteen or fourteen or fifteen or sixteen or seventeen or eighteen

player = np or sp or wp or ep

=======
SOUNDS
=======

StartGame 51570108 (creepy horror movie sting)
StartLevel 2790508 (spooky breathing)
EndLevel 46405707  (step through lock)
EndGame 42608108   (self destruct blast)
SFX0 75807101 (shoot blaster -- maybe find a beefier sound?)
SFX1 36732508 (low blast)
SFX2 57621309 (screech -- w/ SFX1 it's an alien death scream)
SFX3 53306302 (wall hit)
SFX4 88816708 (distortion feedback)
SFX5 49345308 (alien breaks screen)
SFX6 1081308  (can't unseal lock due to infestation)
SFX7 10682508 (alien screech)
SFX8 17313102 (unseal lock)
SFX9 41970502 (seal lock)
SFX10 59602704 (can't open lock)

(steps:56916108)

(other sounds of interest:)
(59344508)
(51570108)
(97184906)
(17313102)
(64284307 )
(98306306 -- generic computer beep)
(63885708 -- whistle)
(36231108 -- alarm blares)
(48767908 -- alien breathing that makes me shudder)
(6968902 -- disappointment blatt)
(70394908 -- like a blast from a flamethrower)
(26959308 -- interesting whistle)
(54284108 -- is this thing on??)
(88816708 -- distortion feedback)
(10682508 -- unsettling note)
(93670908 -- low sting)
(29439108 -- soft drone)
(56650909 -- alt alien scream)
(51192309 -- alt alien scream)
(56940501 -- pew-pew)
(3224908 -- sort of martial beat)
(62032308 -- long tense warble)
(73155108 -- sci-fi creeps)
(34470108 -- sad melody)
(65713308 -- tense beat)

(94692308
3393108
84555308)

================
COLLISIONLAYERS
================
movermarker
eastwesthallway1
eastwesthallway2
playeractionoff
placeholder
hallway1 hallway2 fourway
one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen twenty twentyone twentytwo
Background
Ceiling, Floor, DarkWall,  TopRightSlopingWall, BottomRightSlopingWall, TopLeftSlopingWall, BottomLeftSlopingWall, 
Exit, Screen, BrokenScreen, LockClosed, LockOpen, LeftSens, (, Border)
bottomline
leftline
rightline
topline
lightwall
DirNorth, DirSouth, DirEast, DirWest 
Player
playeractioned
darkwallblue
darkwallred
redwalltrigger
bluewalltrigger
yellow
green
crate1
crate2
craterender
playerhascrate


======
RULES     
======
(****************************************)
(put player on hallway in beginning)
(****************************************)
[i|?|a]->[i np|no ?|no a]



(~trying this here too for the crate~)
(inject crate into maze and delete original)
[c|h]->[|c h]
[c|i]->[|c i]
[c|j]->[|c j]
[c|k]->[|c k]

(****************************************)
(****************************************)
(remove the previous rendering if the player moves)
(****************************************)
(****************************************)
(****************************************)

[moving player][l]->[moving player][no l]

[moving player][#]->[moving player][no #]
[moving player][*]->[moving player][no *]
[moving player][!]->[moving player][no !]
[moving player][/]->[moving player][no /]
[moving player][4]->[moving player][no 4]
[moving player][&]->[moving player][no &]
[moving player][2]->[moving player][no 2]
[moving player][y]->[moving player][no y]
[moving player][0]->[moving player][no 0]
[moving player][8]->[moving player][no 8]
[moving player][g]->[moving player][no g]
[moving player][7]->[moving player][no 7]
[moving player][3]->[moving player][no 3]
[moving player][5]->[moving player][no 5]
[moving player][one]->[moving player][no one]
[moving player][two]->[moving player][no two]
[moving player][three]->[moving player][no three]
[moving player][four]->[moving player][no four]
[moving player][five]->[moving player][no five]
[moving player][six]->[moving player][no six]
[moving player][seven]->[moving player][no seven]
[moving player][eight]->[moving player][no eight]
[moving player][nine]->[moving player][no nine]
[moving player][ten]->[moving player][no ten]
[moving player][eleven]->[moving player][no eleven]
[moving player][twelve]->[moving player][no twelve]
[moving player][thirteen]->[moving player][no thirteen]
[moving player][fourteen]->[moving player][no fourteen]
[moving player][fifteen]->[moving player][no fifteen]
[moving player][sixteen]->[moving player][no sixteen]
[moving player][seventeen]->[moving player][no seventeen]
[moving player][eighteen]->[moving player][no eighteen]
[moving player][n]->[moving player][no n]
[moving player][s]->[moving player][no s]
[moving player][e]->[moving player][no e]
[moving player][w]->[moving player][no w]
[moving player][darkwallblue]->[moving player][no darkwallblue]
[moving player][darkwallred]->[moving player][no darkwallred]
[moving player][yellow]->[moving player][no yellow]
[moving player][green]->[moving player][no green]
[moving player][screen]->[moving player][no screen]
[moving player][lockopen]->[moving player][no lockopen]
[moving player][brokenscreen]->[moving player][no brokenscreen]
[moving player][craterender]->[moving player][no craterender]


(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(******ORIENTATION OF PLAYER*************)



(change direction faced by player if x was pressed on previous rules run)

[right np][z playeractioned]->[ep][z no playeractioned]
[left np][z playeractioned]->[wp][z no playeractioned]
[right sp][z playeractioned]->[wp][z no playeractioned]
[left sp][z playeractioned]->[ep][z no playeractioned]
[right ep][z playeractioned]->[sp][z no playeractioned]
[left ep][z playeractioned]->[np][z no playeractioned]
[right wp][z playeractioned]->[np][z no playeractioned]
[left wp][z playeractioned]->[sp][z no playeractioned]



(cancel the pressed x if up or down comes after action)
[vertical player][z playeractioned]->[player][z no playeractioned]

(~trying map here with second x~)
startloop
[action player][z playeractioned][j][k][h][i][x]->[action player green][z  playeractioned][yellow j][yellow k][yellow h][yellow i][yellow x]
endloop

(cancel playeractioned)
[action player][z playeractioned]->[player][z no playeractioned]


(Set up the INITIAL Z TAG when x is pressed - sets up for catching orientation change (with code above here) if arrow pressed on next rules run)
[action player][z]->[action player][z playeractioned]




(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(*****ACTUAL MOVEMENT OF PLAYER**********)
(***WHILE COMPENSATING FOR REORIENTATION*)


(********EAST-OR-WEST-FACING PLAYER******)


(put east-or-west-facing player onto j or k or x)
right [up ep|j]->[|ep j]
right [up ep|k]->[|ep k]
right [up ep|x]->[|ep x]

left [up wp|j]->[|wp j]
left [up wp|k]->[|wp k]
left [up wp|x]->[|wp x]

left [down ep|j]->[|ep j]
left [down ep|k]->[|ep k]
left [down ep|x]->[|ep x]

right [down wp|j]->[|wp j]
right [down wp|k]->[|wp k]
right [down wp|x]->[|wp x]


(do "sidestepping of east-or-west-facing player onto h or i or x -- there is no particular reason "down" is used as the reference)

down [right ep|h]->[|h ep]
down [right ep|i]->[|i ep]
down [right ep|x]->[|x ep]

down [h |left ep]->[h ep|]
down [i |left ep]->[i ep|]
down [x |left ep]->[x ep|]


down [right wp|h]->[|h wp]
down [right wp|i]->[|i wp]
down [right wp|x]->[|x wp]

down [h |left wp]->[h wp|]
down [i |left wp]->[i wp|]
down [x |left wp]->[x wp|]


(otherwise cancel east-west player movement to keep from straying off intended map.)
[moving ep]->[ep]
[moving wp]->[wp]


(********NORTH-SOUTH-FACING PLAYER******)


(regular ol' moving an upward or downward north-or-south-facing player onto h or i or x)

up [up np|h]->[|np h]
up [up np|i]->[|np i]
up [up np|x]->[|np x]
down [down np|h]->[|h np]
down [down np|i]->[|i np]
down [down np|x]->[|x np]

down [up sp|h]->[|sp h]
down [up sp|i]->[|sp i]
down [up sp|x]->[|sp x]
up [down sp|h]->[|h sp]
up [down sp|i]->[|i sp]
up [down sp|x]->[|x sp]






("sidestepping" right-or-left-moving north-or-south-facing player on j or k or x)
right [right np|j]->[|np j]
left [left np|j]->[|np j]

right [right np|k]->[|np k]
left [left np|k]->[|np k]

right [right np|x]->[|np x]
left [left np|x]->[|np x]

left [right sp|j]->[|sp j]
right [left sp|j]->[|sp j]

left [right sp|k]->[|sp k]
right [left sp|k]->[|sp k]

left [right sp|x]->[|sp x]
right [left sp|x]->[|sp x]



(otherwise cancel north or south facing player movement to keep from straying off map)

[moving np]->[np]
[moving sp]->[sp]


(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(*RENDERINGS-WHICH I SHOULD'VE SIMPLIFIED)

(render northfacing in a hallwayh)
down [no one|||||||||np h||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |np h  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [np][|||||||  |||one||||||||||] ->  [np] [!|!|!|!|!|!|!|!|!|&|one n|&|!|!|!|!|!|!|!|!|!]
right [np][|||||||  |||two||||||||||] ->  [np] [/|/|/|4|*|*|*|*|*|*|*    |*|*|*|*|*|*|2|/|/|/]
right [np][|||||||  |||three||||||||||] -> [np][/|/|/|/|4|*|*|*|*|*|    *|*|*|*|*|*|2|/|/|/|/]
right [np][|||||||  |||four||||||||||] ->  [np][/|/|/|/|/|&|&|&|&|&|&    |&|&|&|&|&|/|/|/|/|/]
right [np][|||||||  |||five||||||||||] ->  [np][/|/|/|/|/|0|0|0|0|0|0    |0|0|0|0|0|/|/|/|/|/]
right [np][|||||||  |||six||||||||||] ->   [np][/|/|/|/|/|0|0|8|&|&|&    |&|&|7|0|0|/|/|/|/|/]
right [np][|||||||  |||seven||||||||||] -> [np][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [np][|||||||  |||eight||||||||||] -> [np][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [np][|||||||  |||nine||||||||||] ->  [np][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [np][|||||||  |||ten||||||||||] ->    [np][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [np][|||||||  |||eleven||||||||||] -> [np][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [np][|||||||  |||twelve||||||||||] ->   [np][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [np][|||||||  |||thirteen||||||||||] -> [np][/|/|/|/|/|!|!|8 !|#|#|#    |#|#|7 !|!|!|/|/|/|/|/]
right [np][|||||||  |||fourteen||||||||||] -> [np][/|/|/|/|5|#|#|#|#|#|#    |#|#|#|#|#|3|/|/|/|/]
right [np][|||||||  |||fifteen||||||||||] ->  [np][/|/|/|5|#|#|#|#|#|#|#    |#|#|#|#|#|#|3|/|/|/]
right [np][|||||||  |||sixteen||||||||||] ->   [np][/|/|5|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|3|/|/]
right [np][|||||||  |||seventeen||||||||||] -> [np][/|5|#|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|#|3|/]
right [np][|||||||  |||eighteen||||||||||] ->  [np][ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(render northfacing in a hallwayi)
down [no one|||||||||np i||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |np i  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [np][|||||||  |||one||||||||||] ->  [np]  [!|!|!|!|!|!|!|!|!|&|n one|&|!|!|!|!|!|!|!|!|!]
right [np][|||||||  |||two||||||||||] ->  [np] [/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/]
right [np][|||||||  |||three||||||||||] -> [np][/|/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/|/]
right [np][|||||||  |||four||||||||||] ->  [np][/|/|/|/|/|4|*|*|*|*|*|*|*|*|*|2|/|/|/|/|/]
right [np][|||||||  |||five||||||||||] ->  [np][/|/|/|/|/|/|4|*|*|*|*|*|*|*|2|/|/|/|/|/|/]
right [np][|||||||  |||six||||||||||] ->   [np][/|/|/|/|/|/|/|&|&|&|&|&|&|&|/|/|/|/|/|/|/]
right [np][|||||||  |||seven||||||||||] -> [np][/|/|/|/|/|/|/|0|0|0|0|0|0|0|/|/|/|/|/|/|/]
right [np][|||||||  |||eight||||||||||] -> [np][/|/|/|/|/|/|/|0|8|&|&|&|7|0|/|/|/|/|/|/|/]
right [np][|||||||  |||nine||||||||||] ->  [np][/|/|/|/|/|/|/|0|8|g|g|g|7|0|/|/|/|/|/|/|/]
right [np][|||||||  |||ten||||||||||] ->    [np][/|/|/|/|/|/|/|0|8|g|g|g|7|0|/|/|/|/|/|/|/]
right [np][|||||||  |||eleven||||||||||] -> [np][/|/|/|/|/|/|/|!|! 8|#|#|#|7 !|!|/|/|/|/|/|/|/]
right [np][|||||||  |||twelve||||||||||] ->   [np][/|/|/|/|/|/|5|#|#|#|#|#|#|#|3|/|/|/|/|/|/]
right [np][|||||||  |||thirteen||||||||||] -> [np][/|/|/|/|/|5|#|#|#|#|#|#|#|#|#|3|/|/|/|/|/]
right [np][|||||||  |||fourteen||||||||||] -> [np][/|/|/|/|5|#|#|#|#|#|#    |#|#|#|#|#|3|/|/|/|/]
right [np][|||||||  |||fifteen||||||||||] ->  [np][/|/|/|5|#|#|#|#|#|#|#    |#|#|#|#|#|#|3|/|/|/]
right [np][|||||||  |||sixteen||||||||||] ->   [np][/|/|5|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|3|/|/]
right [np][|||||||  |||seventeen||||||||||] -> [np][/|5|#|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|#|3|/]
right [np][|||||||  |||eighteen||||||||||] ->  [np][ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(render southfacing in a hallwayh)
down [no one|||||||||sp h||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |sp h  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [sp][|||||||  |||one||||||||||] ->  [sp]  [!|!|!|!|!|!|!|!|!|&|s one|&|!|!|!|!|!|!|!|!|!]
right [sp][|||||||  |||two||||||||||] ->  [sp] [/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/]
right [sp][|||||||  |||three||||||||||] -> [sp][/|/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/|/]
right [sp][|||||||  |||four||||||||||] ->  [sp][/|/|/|/|/|4|*|*|*|*|*|*|*|*|*|2|/|/|/|/|/]
right [sp][|||||||  |||five||||||||||] ->  [sp][/|/|/|/|/|/|4|*|*|*|*|*|*|*|2|/|/|/|/|/|/]
right [sp][|||||||  |||six||||||||||] ->   [sp][/|/|/|/|/|/|/|&|&|&|&|&|&|&|/|/|/|/|/|/|/]
right [sp][|||||||  |||seven||||||||||] -> [sp][/|/|/|/|/|/|/|0|0|0|0|0|0|0|/|/|/|/|/|/|/]
right [sp][|||||||  |||eight||||||||||] -> [sp][/|/|/|/|/|/|/|0|8|&|&|&|7|0|/|/|/|/|/|/|/]
right [sp][|||||||  |||nine||||||||||] ->  [sp][/|/|/|/|/|/|/|0|8|g|g|g|7|0|/|/|/|/|/|/|/]
right [sp][|||||||  |||ten||||||||||] ->    [sp][/|/|/|/|/|/|/|0|8|g|g|g|7|0|/|/|/|/|/|/|/]
right [sp][|||||||  |||eleven||||||||||] -> [sp][/|/|/|/|/|/|/|!|! 8|#|#|#|7 !|!|/|/|/|/|/|/|/]
right [sp][|||||||  |||twelve||||||||||] ->   [sp][/|/|/|/|/|/|5|#|#|#|#|#|#|#|3|/|/|/|/|/|/]
right [sp][|||||||  |||thirteen||||||||||] -> [sp][/|/|/|/|/|5|#|#|#|#|#|#|#|#|#|3|/|/|/|/|/]
right [sp][|||||||  |||fourteen||||||||||] -> [sp][/|/|/|/|5|#|#|#|#|#|#    |#|#|#|#|#|3|/|/|/|/]
right [sp][|||||||  |||fifteen||||||||||] ->  [sp][/|/|/|5|#|#|#|#|#|#|#    |#|#|#|#|#|#|3|/|/|/]
right [sp][|||||||  |||sixteen||||||||||] ->   [sp][/|/|5|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|3|/|/]
right [sp][|||||||  |||seventeen||||||||||] -> [sp][/|5|#|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|#|3|/]
right [sp][|||||||  |||eighteen||||||||||] ->  [sp][ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(render southfacing in a hallwayi)
down [no one|||||||||sp i||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |sp i  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [sp][|||||||  |||one||||||||||] ->  [sp] [!|!|!|!|!|!|!|!|!|&|one s|&|!|!|!|!|!|!|!|!|!]
right [sp][|||||||  |||two||||||||||] ->  [sp] [/|/|/|4|*|*|*|*|*|*|*    |*|*|*|*|*|*|2|/|/|/]
right [sp][|||||||  |||three||||||||||] -> [sp][/|/|/|/|4|*|*|*|*|*|    *|*|*|*|*|*|2|/|/|/|/]
right [sp][|||||||  |||four||||||||||] ->  [sp][/|/|/|/|/|&|&|&|&|&|&    |&|&|&|&|&|/|/|/|/|/]
right [sp][|||||||  |||five||||||||||] ->  [sp][/|/|/|/|/|0|0|0|0|0|0    |0|0|0|0|0|/|/|/|/|/]
right [sp][|||||||  |||six||||||||||] ->   [sp][/|/|/|/|/|0|0|8|&|&|&    |&|&|7|0|0|/|/|/|/|/]
right [sp][|||||||  |||seven||||||||||] -> [sp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [sp][|||||||  |||eight||||||||||] -> [sp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [sp][|||||||  |||nine||||||||||] ->  [sp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [sp][|||||||  |||ten||||||||||] ->    [sp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [sp][|||||||  |||eleven||||||||||] -> [sp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [sp][|||||||  |||twelve||||||||||] ->   [sp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [sp][|||||||  |||thirteen||||||||||] -> [sp][/|/|/|/|/|!|!|8 !|#|#|#    |#|#|7 !|!|!|/|/|/|/|/]
right [sp][|||||||  |||fourteen||||||||||] -> [sp][/|/|/|/|5|#|#|#|#|#|#    |#|#|#|#|#|3|/|/|/|/]
right [sp][|||||||  |||fifteen||||||||||] ->  [sp][/|/|/|5|#|#|#|#|#|#|#    |#|#|#|#|#|#|3|/|/|/]
right [sp][|||||||  |||sixteen||||||||||] ->   [sp][/|/|5|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|3|/|/]
right [sp][|||||||  |||seventeen||||||||||] -> [sp][/|5|#|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|#|3|/]
right [sp][|||||||  |||eighteen||||||||||] ->  [sp][ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(render eastfacing spefific to hallway1 )

down [no one|||||||||ep h||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |ep  h ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [ep][|||||||  |||one||||||||||] ->  [ep] [!|!|!|!|!|!|!|!|!|&|one e|&|!|!|!|!|!|!|!|!|!]
right [ep][|||||||  |||two||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||three||||||||||] ->[ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||four||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||five||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||six||||||||||] ->   [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||seven||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||eight||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||nine||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||ten||||||||||] ->    [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||eleven||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||twelve||||||||||] ->   [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||thirteen||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||fourteen||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||fifteen||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||sixteen||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||seventeen||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||eighteen||||||||||] ->  [ep] [ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(render eastfacing spefific to hallway2 )

down [no one|||||||||ep i||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |ep i  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [ep][|||||||  |||one||||||||||] ->  [ep] [!|!|!|!|!|!|!|!|!|&|one e|&|!|!|!|!|!|!|!|!|!]
right [ep][|||||||  |||two||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||three||||||||||] ->[ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||four||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||five||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||six||||||||||] ->   [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||seven||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||eight||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||nine||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||ten||||||||||] ->    [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||eleven||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||twelve||||||||||] ->   [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||thirteen||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||fourteen||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||fifteen||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||sixteen||||||||||] ->  [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||seventeen||||||||||] -> [ep] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [ep][|||||||  |||eighteen||||||||||] ->  [ep] [ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(render westfacing spefific to hallway1)

down [no one|||||||||wp h ||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |wp h  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [wp][|||||||  |||one||||||||||] ->  [wp] [!|!|!|!|!|!|!|!|!|&|one w|&|!|!|!|!|!|!|!|!|!]
right [wp][|||||||  |||two||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||three||||||||||] ->[wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||four||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||five||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||six||||||||||] ->   [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||seven||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||eight||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||nine||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||ten||||||||||] ->    [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||eleven||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||twelve||||||||||] ->   [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||thirteen||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||fourteen||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||fifteen||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||sixteen||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||seventeen||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||eighteen||||||||||] ->  [wp] [ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(render westfacing spefific to hallway2)

down [no one|||||||||wp i ||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |wp i  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [wp][|||||||  |||one||||||||||] ->  [wp] [!|!|!|!|!|!|!|!|!|&|one w|&|!|!|!|!|!|!|!|!|!]
right [wp][|||||||  |||two||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||three||||||||||] ->[wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||four||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||five||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||six||||||||||] ->   [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||seven||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||eight||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||nine||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||ten||||||||||] ->    [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||eleven||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||twelve||||||||||] ->   [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||thirteen||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||fourteen||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||fifteen||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||sixteen||||||||||] ->  [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||seventeen||||||||||] -> [wp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [wp][|||||||  |||eighteen||||||||||] ->  [wp] [ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]


(render np on 4-way connector)
down [no one|||||||||np x ||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |np x  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [np][|||||||  |||one||||||||||] ->[np][!|!|!|!|!|!|!|!|!|&|n|&|!|!|!|!|!|!|!|!|!]
right [np][|||||||  |||two||||||||||] ->[np] [/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/]
right [np][|||||||  |||three||||||||||] ->[np] [/|/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/|/]
right [np][|||||||  |||four||||||||||] ->[np][/|/|/|/|/|4|*|*|*|*|*|*|*|*|*|2|/|/|/|/|/]
right [np][|||||||  |||five||||||||||]-> [np][g|g|.|/|/|/|/|/|/|/|/|/|/|/|/|/|/|/|.|g|g]
right [np][|||||||  |||six||||||||||] ->[np] [g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [np][|||||||  |||seven||||||||||]->[np] [g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [np][|||||||  |||eight||||||||||]->[np] [g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [np][|||||||  |||nine||||||||||]->[np] [g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [np][|||||||  |||ten||||||||||]->[np] [g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [np][|||||||  |||eleven||||||||||]->[np] [g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [np][|||||||  |||twelve||||||||||]->[np] [g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [np][|||||||  |||thirteen||||||||||] ->[np] [g|g|.|/|/|/|/|#|#|#|#|#|#|#|/|/|/|/|.|g|g]
right [np][|||||||  |||fourteen||||||||||] ->[np][g|g|.|/|5|#|#|#|#|#|#|#|#|#|#|#|3|/|.|g|g]
right [np][|||||||  |||fifteen||||||||||] -> [np][#|#|.|5|#|#|#|#|#|#|#|#|#|#|#|#|#|3|.|#|#]
right [np][|||||||  |||sixteen||||||||||]->[np][#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#]
right [np][|||||||  |||seventeen||||||||||]->[np][#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#]
right [np][|||||||  |||eighteen||||||||||] -> [np][&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&]

(render sp on 4-way connector)
down [no one|||||||||sp x ||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |sp x  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [sp][|||||||  |||one||||||||||] ->[sp][!|!|!|!|!|!|!|!|!|&|s|&|!|!|!|!|!|!|!|!|!]
right [sp][|||||||  |||two||||||||||] -> [sp][/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/]
right [sp][|||||||  |||three||||||||||] -> [sp][/|/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/|/]
right [sp][|||||||  |||four||||||||||] ->[sp][/|/|/|/|/|4|*|*|*|*|*|*|*|*|*|2|/|/|/|/|/]
right [sp][|||||||  |||five||||||||||] ->[sp][g|g|.|/|/|/|/|/|/|/|/|/|/|/|/|/|/|/|.|g|g]
right [sp][|||||||  |||six||||||||||] -> [sp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [sp][|||||||  |||seven||||||||||]-> [sp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [sp][|||||||  |||eight||||||||||]-> [sp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [sp][|||||||  |||nine||||||||||]-> [sp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [sp][|||||||  |||ten||||||||||]-> [sp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [sp][|||||||  |||eleven||||||||||]-> [sp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [sp][|||||||  |||twelve||||||||||]-> [sp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [sp][|||||||  |||thirteen||||||||||] -> [sp][g|g|.|/|/|/|/|#|#|#|#|#|#|#|/|/|/|/|.|g|g]
right [sp][|||||||  |||fourteen||||||||||] ->[sp][g|g|.|/|5|#|#|#|#|#|#|#|#|#|#|#|3|/|.|g|g]
right [sp][|||||||  |||fifteen||||||||||] -> [sp][#|#|.|5|#|#|#|#|#|#|#|#|#|#|#|#|#|3|.|#|#]
right [sp][|||||||  |||sixteen||||||||||]->[sp][#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#]
right [sp][|||||||  |||seventeen||||||||||]->[sp][#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#]
right [sp][|||||||  |||eighteen||||||||||] -> [sp][&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&]

(render ep on 4-way connector)
down [no one|||||||||ep x ||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |ep x  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [ep][|||||||  |||one||||||||||] ->[ep][!|!|!|!|!|!|!|!|!|&|e|&|!|!|!|!|!|!|!|!|!]
right [ep][|||||||  |||two||||||||||] -> [ep][/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/]
right [ep][|||||||  |||three||||||||||] -> [ep][/|/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/|/]
right [ep][|||||||  |||four||||||||||] -> [ep][/|/|/|/|/|4|*|*|*|*|*|*|*|*|*|2|/|/|/|/|/]
right [ep][|||||||  |||five||||||||||] ->[ep][g|g|.|/|/|/|/|/|/|/|/|/|/|/|/|/|/|/|.|g|g]
right [ep][|||||||  |||six||||||||||] -> [ep][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [ep][|||||||  |||seven||||||||||]-> [ep][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [ep][|||||||  |||eight||||||||||]-> [ep][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [ep][|||||||  |||nine||||||||||]-> [ep][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [ep][|||||||  |||ten||||||||||]-> [ep][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [ep][|||||||  |||eleven||||||||||]-> [ep][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [ep][|||||||  |||twelve||||||||||]-> [ep][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [ep][|||||||  |||thirteen||||||||||] -> [ep][g|g|.|/|/|/|/|#|#|#|#|#|#|#|/|/|/|/|.|g|g]
right [ep][|||||||  |||fourteen||||||||||] ->[ep][g|g|.|/|5|#|#|#|#|#|#|#|#|#|#|#|3|/|.|g|g]
right [ep][|||||||  |||fifteen||||||||||] -> [ep][#|#|.|5|#|#|#|#|#|#|#|#|#|#|#|#|#|3|.|#|#]
right [ep][|||||||  |||sixteen||||||||||]->[ep][#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#]
right [ep][|||||||  |||seventeen||||||||||]->[ep][#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#]
right [ep][|||||||  |||eighteen||||||||||] -> [ep][&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&]

(render wp on 4-way connector)
down [no one|||||||||wp x ||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |wp x  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [wp][|||||||  |||one||||||||||] ->[wp][!|!|!|!|!|!|!|!|!|&|w|&|!|!|!|!|!|!|!|!|!]
right [wp][|||||||  |||two||||||||||] -> [wp][/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/]
right [wp][|||||||  |||three||||||||||] -> [wp][/|/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/|/]
right [wp][|||||||  |||four||||||||||] -> [wp][/|/|/|/|/|4|*|*|*|*|*|*|*|*|*|2|/|/|/|/|/]
right [wp][|||||||  |||five||||||||||] ->[wp][g|g|.|/|/|/|/|/|/|/|/|/|/|/|/|/|/|/|.|g|g]
right [wp][|||||||  |||six||||||||||] -> [wp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [wp][|||||||  |||seven||||||||||]-> [wp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [wp][|||||||  |||eight||||||||||]-> [wp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [wp][|||||||  |||nine||||||||||]-> [wp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [wp][|||||||  |||ten||||||||||]-> [wp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [wp][|||||||  |||eleven||||||||||]-> [wp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [wp][|||||||  |||twelve||||||||||]-> [wp][g|g|.|/|/|/|/|g|g|g|g|g|g|g|/|/|/|/|.|g|g]
right [wp][|||||||  |||thirteen||||||||||] -> [wp][g|g|.|/|/|/|/|#|#|#|#|#|#|#|/|/|/|/|.|g|g]
right [wp][|||||||  |||fourteen||||||||||] ->[wp][g|g|.|/|5|#|#|#|#|#|#|#|#|#|#|#|3|/|.|g|g]
right [wp][|||||||  |||fifteen||||||||||] -> [wp][#|#|.|5|#|#|#|#|#|#|#|#|#|#|#|#|#|3|.|#|#]
right [wp][|||||||  |||sixteen||||||||||]->[wp][#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#]
right [wp][|||||||  |||seventeen||||||||||]->[wp][#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#|#]
right [wp][|||||||  |||eighteen||||||||||] -> [wp][&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&|&]

(render np on j)

down [no one|||||||||np j ||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |np j  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [np][|||||||  |||one||||||||||] ->  [np] [!|!|!|!|!|!|!|!|!|&|one n|&|!|!|!|!|!|!|!|!|!]
right [np][|||||||  |||two||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||three||||||||||] ->[np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||four||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||five||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||six||||||||||] ->   [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||seven||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||eight||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||nine||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||ten||||||||||] ->    [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||eleven||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||twelve||||||||||] ->   [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||thirteen||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||fourteen||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||fifteen||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||sixteen||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||seventeen||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||eighteen||||||||||] ->  [np] [ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(render sp on j)

down [no one|||||||||sp j ||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |sp j  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [sp][|||||||  |||one||||||||||] ->  [sp] [!|!|!|!|!|!|!|!|!|&|one s|&|!|!|!|!|!|!|!|!|!]
right [sp][|||||||  |||two||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||three||||||||||] ->[sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||four||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||five||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||six||||||||||] ->   [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||seven||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||eight||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||nine||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||ten||||||||||] ->    [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||eleven||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||twelve||||||||||] ->   [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||thirteen||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||fourteen||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||fifteen||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||sixteen||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||seventeen||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||eighteen||||||||||] ->  [sp] [ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]


(ep on k)

down [no one|||||||||ep k||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |ep k  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [ep][|||||||  |||one||||||||||] ->  [ep] [!|!|!|!|!|!|!|!|!|&|one e|&|!|!|!|!|!|!|!|!|!]
right [ep][|||||||  |||two||||||||||] ->  [ep] [/|/|/|4|*|*|*|*|*|*|*    |*|*|*|*|*|*|2|/|/|/]
right [ep][|||||||  |||three||||||||||] -> [ep][/|/|/|/|4|*|*|*|*|*|    *|*|*|*|*|*|2|/|/|/|/]
right [ep][|||||||  |||four||||||||||] ->  [ep][/|/|/|/|/|&|&|&|&|&|&    |&|&|&|&|&|/|/|/|/|/]
right [ep][|||||||  |||five||||||||||] ->  [ep][/|/|/|/|/|0|0|0|0|0|0    |0|0|0|0|0|/|/|/|/|/]
right [ep][|||||||  |||six||||||||||] ->   [ep][/|/|/|/|/|0|0|8|&|&|&    |&|&|7|0|0|/|/|/|/|/]
right [ep][|||||||  |||seven||||||||||] -> [ep][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [ep][|||||||  |||eight||||||||||] -> [ep][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [ep][|||||||  |||nine||||||||||] ->  [ep][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [ep][|||||||  |||ten||||||||||] ->    [ep][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [ep][|||||||  |||eleven||||||||||] -> [ep][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [ep][|||||||  |||twelve||||||||||] ->   [ep][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [ep][|||||||  |||thirteen||||||||||] -> [ep][/|/|/|/|/|!|!|8 !|#|#|#    |#|#|7 !|!|!|/|/|/|/|/]
right [ep][|||||||  |||fourteen||||||||||] -> [ep][/|/|/|/|5|#|#|#|#|#|#    |#|#|#|#|#|3|/|/|/|/]
right [ep][|||||||  |||fifteen||||||||||] ->  [ep][/|/|/|5|#|#|#|#|#|#|#    |#|#|#|#|#|#|3|/|/|/]
right [ep][|||||||  |||sixteen||||||||||] ->   [ep][/|/|5|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|3|/|/]
right [ep][|||||||  |||seventeen||||||||||] -> [ep][/|5|#|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|#|3|/]
right [ep][|||||||  |||eighteen||||||||||] ->  [ep][ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(wp on j)

down [no one|||||||||wp j||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |wp j  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [wp][|||||||  |||one||||||||||] ->  [wp] [!|!|!|!|!|!|!|!|!|&|one w|&|!|!|!|!|!|!|!|!|!]
right [wp][|||||||  |||two||||||||||] ->  [wp] [/|/|/|4|*|*|*|*|*|*|*    |*|*|*|*|*|*|2|/|/|/]
right [wp][|||||||  |||three||||||||||] -> [wp][/|/|/|/|4|*|*|*|*|*|    *|*|*|*|*|*|2|/|/|/|/]
right [wp][|||||||  |||four||||||||||] ->  [wp][/|/|/|/|/|&|&|&|&|&|&    |&|&|&|&|&|/|/|/|/|/]
right [wp][|||||||  |||five||||||||||] ->  [wp][/|/|/|/|/|0|0|0|0|0|0    |0|0|0|0|0|/|/|/|/|/]
right [wp][|||||||  |||six||||||||||] ->   [wp][/|/|/|/|/|0|0|8|&|&|&    |&|&|7|0|0|/|/|/|/|/]
right [wp][|||||||  |||seven||||||||||] -> [wp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [wp][|||||||  |||eight||||||||||] -> [wp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [wp][|||||||  |||nine||||||||||] ->  [wp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [wp][|||||||  |||ten||||||||||] ->    [wp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [wp][|||||||  |||eleven||||||||||] -> [wp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [wp][|||||||  |||twelve||||||||||] ->   [wp][/|/|/|/|/|0|0|8|g|g|g    |g|g|7|0|0|/|/|/|/|/]
right [wp][|||||||  |||thirteen||||||||||] -> [wp][/|/|/|/|/|!|!|8 !|#|#|#    |#|#|7 !|!|!|/|/|/|/|/]
right [wp][|||||||  |||fourteen||||||||||] -> [wp][/|/|/|/|5|#|#|#|#|#|#    |#|#|#|#|#|3|/|/|/|/]
right [wp][|||||||  |||fifteen||||||||||] ->  [wp][/|/|/|5|#|#|#|#|#|#|#    |#|#|#|#|#|#|3|/|/|/]
right [wp][|||||||  |||sixteen||||||||||] ->   [wp][/|/|5|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|3|/|/]
right [wp][|||||||  |||seventeen||||||||||] -> [wp][/|5|#|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|#|3|/]
right [wp][|||||||  |||eighteen||||||||||] ->  [wp][ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(render np on k)

down [no one|||||||||np k ||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |np k  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [np][|||||||  |||one||||||||||] ->  [np] [!|!|!|!|!|!|!|!|!|&|one n|&|!|!|!|!|!|!|!|!|!]
right [np][|||||||  |||two||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||three||||||||||] ->[np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||four||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||five||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||six||||||||||] ->   [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||seven||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||eight||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||nine||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||ten||||||||||] ->    [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||eleven||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||twelve||||||||||] ->   [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||thirteen||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||fourteen||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||fifteen||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||sixteen||||||||||] ->  [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||seventeen||||||||||] -> [np] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [np][|||||||  |||eighteen||||||||||] ->  [np] [ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]


(render sp on k)

down [no one|||||||||sp k ||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |sp k  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [sp][|||||||  |||one||||||||||] ->  [sp] [!|!|!|!|!|!|!|!|!|&|one s|&|!|!|!|!|!|!|!|!|!]
right [sp][|||||||  |||two||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||three||||||||||] ->[sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||four||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||five||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||six||||||||||] ->   [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||seven||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||eight||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||nine||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||ten||||||||||] ->    [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||eleven||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||twelve||||||||||] ->   [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||thirteen||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||fourteen||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||fifteen||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||sixteen||||||||||] ->  [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||seventeen||||||||||] -> [sp] [/|/|/|/|/|/|/|/|/|/|/    |/|/|/|/|/|/|/|/|/|/]
right [sp][|||||||  |||eighteen||||||||||] ->  [sp] [ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(ep on j)

down [no one|||||||||ep j||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |ep j  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [ep][|||||||  |||one||||||||||] ->  [ep]  [!|!|!|!|!|!|!|!|!|&|e one|&|!|!|!|!|!|!|!|!|!]
right [ep][|||||||  |||two||||||||||] ->  [ep] [/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/]
right [ep][|||||||  |||three||||||||||] -> [ep][/|/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/|/]
right [ep][|||||||  |||four||||||||||] ->  [ep][/|/|/|/|/|4|*|*|*|*|*|*|*|*|*|2|/|/|/|/|/]
right [ep][|||||||  |||five||||||||||] ->  [ep][/|/|/|/|/|/|4|*|*|*|*|*|*|*|2|/|/|/|/|/|/]
right [ep][|||||||  |||six||||||||||] ->   [ep][/|/|/|/|/|/|/|&|&|&|&|&|&|&|/|/|/|/|/|/|/]
right [ep][|||||||  |||seven||||||||||] -> [ep][/|/|/|/|/|/|/|0|0|0|0|0|0|0|/|/|/|/|/|/|/]
right [ep][|||||||  |||eight||||||||||] -> [ep][/|/|/|/|/|/|/|0|8|&|&|&|7|0|/|/|/|/|/|/|/]
right [ep][|||||||  |||nine||||||||||] ->  [ep][/|/|/|/|/|/|/|0|8|g|g|g|7|0|/|/|/|/|/|/|/]
right [ep][|||||||  |||ten||||||||||] ->    [ep][/|/|/|/|/|/|/|0|8|g|g|g|7|0|/|/|/|/|/|/|/]
right [ep][|||||||  |||eleven||||||||||] -> [ep][/|/|/|/|/|/|/|!|! 8|#|#|#|7 !|!|/|/|/|/|/|/|/]
right [ep][|||||||  |||twelve||||||||||] ->   [ep][/|/|/|/|/|/|5|#|#|#|#|#|#|#|3|/|/|/|/|/|/]
right [ep][|||||||  |||thirteen||||||||||] -> [ep][/|/|/|/|/|5|#|#|#|#|#|#|#|#|#|3|/|/|/|/|/]
right [ep][|||||||  |||fourteen||||||||||] -> [ep][/|/|/|/|5|#|#|#|#|#|#    |#|#|#|#|#|3|/|/|/|/]
right [ep][|||||||  |||fifteen||||||||||] ->  [ep][/|/|/|5|#|#|#|#|#|#|#    |#|#|#|#|#|#|3|/|/|/]
right [ep][|||||||  |||sixteen||||||||||] ->   [ep][/|/|5|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|3|/|/]
right [ep][|||||||  |||seventeen||||||||||] -> [ep][/|5|#|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|#|3|/]
right [ep][|||||||  |||eighteen||||||||||] ->  [ep][ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(wp on k)

down [no one|||||||||wp k||||||||] -> [one|two|three|four|five|six|seven|eight|nine  |wp k  ten| eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen]

right [wp][|||||||  |||one||||||||||] ->  [wp]  [!|!|!|!|!|!|!|!|!|&|w one|&|!|!|!|!|!|!|!|!|!]
right [wp][|||||||  |||two||||||||||] ->  [wp] [/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/]
right [wp][|||||||  |||three||||||||||] -> [wp][/|/|/|/|4|*|*|*|*|*|*|*|*|*|*|*|2|/|/|/|/]
right [wp][|||||||  |||four||||||||||] ->  [wp][/|/|/|/|/|4|*|*|*|*|*|*|*|*|*|2|/|/|/|/|/]
right [wp][|||||||  |||five||||||||||] ->  [wp][/|/|/|/|/|/|4|*|*|*|*|*|*|*|2|/|/|/|/|/|/]
right [wp][|||||||  |||six||||||||||] ->   [wp][/|/|/|/|/|/|/|&|&|&|&|&|&|&|/|/|/|/|/|/|/]
right [wp][|||||||  |||seven||||||||||] -> [wp][/|/|/|/|/|/|/|0|0|0|0|0|0|0|/|/|/|/|/|/|/]
right [wp][|||||||  |||eight||||||||||] -> [wp][/|/|/|/|/|/|/|0|8|&|&|&|7|0|/|/|/|/|/|/|/]
right [wp][|||||||  |||nine||||||||||] ->  [wp][/|/|/|/|/|/|/|0|8|g|g|g|7|0|/|/|/|/|/|/|/]
right [wp][|||||||  |||ten||||||||||] ->    [wp][/|/|/|/|/|/|/|0|8|g|g|g|7|0|/|/|/|/|/|/|/]
right [wp][|||||||  |||eleven||||||||||] -> [wp][/|/|/|/|/|/|/|!|! 8|#|#|#|7 !|!|/|/|/|/|/|/|/]
right [wp][|||||||  |||twelve||||||||||] ->   [wp][/|/|/|/|/|/|5|#|#|#|#|#|#|#|3|/|/|/|/|/|/]
right [wp][|||||||  |||thirteen||||||||||] -> [wp][/|/|/|/|/|5|#|#|#|#|#|#|#|#|#|3|/|/|/|/|/]
right [wp][|||||||  |||fourteen||||||||||] -> [wp][/|/|/|/|5|#|#|#|#|#|#    |#|#|#|#|#|3|/|/|/|/]
right [wp][|||||||  |||fifteen||||||||||] ->  [wp][/|/|/|5|#|#|#|#|#|#|#    |#|#|#|#|#|#|3|/|/|/]
right [wp][|||||||  |||sixteen||||||||||] ->   [wp][/|/|5|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|3|/|/]
right [wp][|||||||  |||seventeen||||||||||] -> [wp][/|5|#|#|#|#|#|#|#|#|#    |#|#|#|#|#|#|#|#|3|/]
right [wp][|||||||  |||eighteen||||||||||] ->  [wp][ &|&|&|&|&|&|&|&|&|&|&    |&|&|&|&|&|&|&|&|&|&]

(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****************************************)
(****MODIFICATIONS OF RENDERINGS*********)






(*********************************)
(post-render, map-letter modifiers)
(*********************************)


(change color of walls wih a letter)
[player|b][Darkwall]->[player|b][Darkwallblue]
[player|r][Darkwall]->[player|r][Darkwallred ]


(~trying crate~)

(try: start by injecting crate into maze and deleting original side letter, player on crate creates "player has crate" condition, keep the crate letter with player, drawing huge crate until a true down, left, or right movement happens...in that case just leave the letter back there)

(inject crate into maze and delete original is located at the top of the rules)


(player on crate creates "player has crate" condition")
[player c][z]->[player c][playerhascrate z]


(move crate forward when player moves forward if player has crate)
[playerhascrate z][up np h|]->[playerhascrate z][up np h|c]
[playerhascrate z][up np i|]->[playerhascrate z][up np i|c]

[playerhascrate z][up sp h|]->[playerhascrate z][up sp h|c]
[playerhascrate z][up sp i|]->[playerhascrate z][up sp i|c]

[playerhascrate z][up ep j|]->[playerhascrate z][up ep j|c]
[playerhascrate z][up ep k|]->[playerhascrate z][up np k|c]

[playerhascrate z][up wp j|]->[playerhascrate z][up wp j|c]
[playerhascrate z][up wp k|]->[playerhascrate z][up wp k|c]

(***do one of the above for an 4-way x connector)

[playerhascrate z][player]->[playerhascrate z][player craterender]

([player|c]->[player craterender|c]
[player|d]->[player craterender|d])


(need to render small crate for when player is adjacent to a crate)

(************************************)
(post-render, automatically done mods)
(************************************)



(place a doohicky on the x to increase
difference when changing orienation)
right[np x||||] -> [np x||||screen]
left[ep x|||||||] -> [ep x|||||||screen]
down [||screen]->[lockopen||screen]

right[sp x||||] -> [sp x||||brokenscreen]
left[wp x|||||||] -> [wp x|||||||brokenscreen]
down [||brokenscreen]->[lockopen||brokenscreen]



(EP: create a wall at hallway-end)
right[ep k|no j no x][rightline||||||]->[ep k|no j no x][lightwall|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall]
right[ep j|k|no j no x][rightline||||]->[ep j|k|no j no x][lightwall|lightwall|lightwall|lightwall|lightwall]

(WP: create a wall at hallway-end)
left[wp j|no k no x][leftline||||||]->[wp j|no k no x][lightwall|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall]
left[wp k|j|no k no x][leftline||||]->[wp k|j|no k no x][lightwall|lightwall|lightwall|lightwall|lightwall]

(NP: create a wall at hallway-end)
down[no i no x |np h][ceiling|topline|||||||||]->[no i no x|np h][ceiling|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall]

down[no i no x |h|np i][ceiling|topline|||||]->[no i no x|h|np i][ceiling|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall]


(SP)
down[sp i |no h no x ][ceiling|topline|||||||||]->[sp i |no h no x ][ceiling|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall]

down[sp h|I|no h no x][ceiling|topline|||||]->[sp h|I|no h no x][ceiling|lightwall|lightwall|lightwall|lightwall|lightwall|lightwall]






==============
WINCONDITIONS
==============



=======     
LEVELS
=======
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
..........................hb.......hb...................................
..........................ib.......ib...................................
..........................h.......rh....................................
......................rr..i..rrbbrri..rrbb..rr..........................
...................cjkjkjkxjkjkjkjkxjkjkjkjkjk..........................
........................bbh........h....................................
.........................bi........i....................................
.........................rh...h....hb...................................
.........................ri...i....ib...................................
..............................hb...hr...................................
..............................ib...ir...................................
..............................hr...h....................................
..........................bb..irr..i..bb................................
..........................jkjkxjkjkxjkjkjk..............................
..............................h....hrr..rr..............................
..............................i....ir...................................
...................................hb..................................
...................................ib...................................
...................................hr...................................
...................................ir...................................
...................................h....................................
...................................i?a..................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
........................................................................
.......................................................................z

(long hallway)

!!!!!!!!!&w&!!!!!!!!!
///4*************2///
////4***********2////
/////4*********2/////
//////4*******2//////
///////&&...&&///////
///////y000000///////
///////08ggg70///////
///////08ggg70///////
///////08ggg70///////
///////!!###!!///////
//////5#######3//////
/////5#########3/////
////5###########3////
///5#############3///
//5###############3//
/5#################3/
&&&&&&&&&&&&&&&&&&&&&

(four way connector)

!!!!!!!!!&n&!!!!!!!!!
///4*************2///
////4***********2////
/////4*********2/////
gg.///////////////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////#######////.gg
gg./5###########3/.gg
##.5#############3.##
#####################
#####################
&&&&&&&&&&&&&&&&&&&&&

(for renederings
right [np][|||||||  |||one||||||||||]
right [np][|||||||  |||two||||||||||]
right [np][|||||||  |||three||||||||||]
right [np][|||||||  |||four||||||||||]
right [np][|||||||  |||five||||||||||]
right [np][|||||||  |||six||||||||||]
right [np][|||||||  |||seven||||||||||]
right [np][|||||||  |||eight||||||||||]
right [np][|||||||  |||nine||||||||||]
right [np][|||||||  |||ten||||||||||]
right [np][|||||||  |||eleven||||||||||]
right [np][|||||||  |||twelve||||||||||]
right [np][|||||||  |||thirteen||||||||||]
right [np][|||||||  |||fourteen||||||||||]
right [np][|||||||  |||fifteen||||||||||]
right [np][|||||||  |||sixteen||||||||||]
right [np][|||||||  |||seventeen||||||||||]
right [np][|||||||  |||eighteen||||||||||])

(four way connector !!!!!!!!!&n&!!!!!!!!!
///4*************2///
////4***********2////
/////4*********2/////
gg.///////////////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////ggggggg////.gg
gg.////#######////.gg
gg./5###########3/.gg
##.5#############3.##
#####################
#####################
&&&&&&&&&&&&&&&&&&&&&)