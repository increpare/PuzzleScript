OBJECTS

DyingPlayer
Black

Void
White

OBackground
Orange

GBackground
LightGrey

BlueWall
Blue

GreyWall
Grey

RedCrate
Red
.....
.000.
.000.
.000.
.....

GreyCrate
DarkGrey
.....
.000.
.000.
.000.
.....


RedWhale
Red White
00100
00000
10001
00000
00100

GreyWhale
DarkGrey White
00100
00000
10001
00000
00100

RedEndPoint
DarkRed
.....
.000.
.0.0.
.000.
.....

GreyEndPoint
Darkgrey
.....
.....
.....
.....
.....

RedStartPoint
darkRed
.....
.....
.....
.....
.....

GreyStartPoint
darkRed
.....
.000.
.0.0.
.000.
.....

YellowPlayer
yellow
.....
.000.
.000.
.000.
.....

GreyPlayer
DarkGrey
.....
.000.
.000.
.000.
.....

LeftBeam
white
.....
.....
00000
.....
.....

RightBeam
white
.....
.....
00000
.....
.....

UpBeam
white
..0..
..0..
..0..
..0..
..0..

DownBeam
white
..0..
..0..
..0..
..0..
..0..


LEGEND

Background = Void or OBackground or GBackground
Player = YellowPlayer or GreyPlayer or DyingPlayer
Wall = BlueWall or GreyWall
Crate = RedCrate or GreyCrate
Whale = RedWhale or GreyWhale
StartPoint = RedStartPoint or GreyStartPoint
EndPoint = RedEndPoint or GreyEndPoint
. = OBackground
, = Void
# = BlueWall
W = RedWhale
C = RedCrate
S = RedStartPoint or YellowPlayer
E = RedEndPoint
Obstacle = Player or Whale or Crate or Wall
Beam = UPBeam or DownBeam or LeftBeam or RightBeam
VBeam = UPBeam or DownBeam
HBeam = LeftBeam or RightBeam
HBeamSource = HBeam or Whale
VBeamSource = VBeam or Whale
Pushable = Player or Whale or Crate
RedPushable = YellowPlayer or RedWhale or RedCrate
GreyPushable = GreyPlayer or GreyWhale or GreyCrate

COLLISIONLAYERS

Background
StartPoint, EndPoint
Player, Wall
Crate, Whale
UpBeam, DownBeam
LeftBeam, RightBeam

RULES

left [ LeftBeam | < Player ] -> [ LeftBeam | Player ] 
right [ RightBeam | < Player ] -> [ RightBeam | Player ] 
up [ UpBeam | < Player ] -> [ UpBeam | Player ] 
down [ DownBeam | < Player ] -> [ DownBeam | Player ] 
right [ RightBeam | stationaryPushable ] -> [ RightBeam | > Pushable ] 
left [ LeftBeam | stationaryPushable ] -> [ LeftBeam | > Pushable ] 
up [ UpBeam | stationaryPushable ] -> [ UpBeam | > Pushable ] 
down [ DownBeam | stationaryPushable ] -> [ DownBeam | > Pushable ] 
[ Whale | stationaryPushable ] -> [ Whale | > Pushable ] 
[ Beam ] -> [  ] 
[ > Player | Crate ] -> [ > Player | > Crate ] 
[ > Crate | stationaryCrate ] -> [ > Crate | > Crate ] 
[ > RedPushable | vRedPushable ] -> [ RedPushable | vRedPushable ] 
[ > RedPushable | ^ RedPushable ] -> [ RedPushable | ^ RedPushable ] 
[ > RedPushable | < RedPushable ] -> [ RedPushable | < RedPushable ] 
[ > GreyPushable | vGreyPushable ] -> [ GreyPushable | vGreyPushable ] 
[ > GreyPushable | ^ GreyPushable ] -> [ GreyPushable | ^ GreyPushable ] 
[ > GreyPushable | < GreyPushable ] -> [ GreyPushable | < GreyPushable ] 
late Up [ Whale | noObstacle ] -> [ Whale | UpBeam ] 
late Down [ Whale | noObstacle ] -> [ Whale | DownBeam ] 
late Left [ Whale | noObstacle ] -> [ Whale | LeftBeam ] 
late Right [ Whale | noObstacle ] -> [ Whale | RightBeam ] 
late horizontal [ HBeam | noobstacle ] -> [ HBeam | HBeam ] 
late vertical [ VBeam | noobstacle ] -> [ VBeam | VBeam ] 
late Horizontal [ HBeamSource | YellowPlayer ] -> [ HBeamSource | DyingPlayer ] 
late Vertical [ VBeamSource | YellowPlayer ] -> [ VBeamSource | DyingPlayer ] 
late [ DyingPlayer ] [ BlueWall ] -> [ DyingPlayer ] [ GreyWall ] 
late [ DyingPlayer ] [ RedWhale ] -> [ DyingPlayer ] [ GreyWhale ] 
late [ DyingPlayer ] [ RedCrate ] -> [ DyingPlayer ] [ GreyCrate ] 
late [ DyingPlayer ] [ RedStartPoint ] -> [ DyingPlayer ] [ GreyStartPoint ] 
late [ DyingPlayer ] [ RedEndPoint ] -> [ DyingPlayer ] [ GreyEndPoint ] 
late [ DyingPlayer ] [ OBackground ] -> [ DyingPlayer ] [ GBackground ] 
late [ DyingPlayer ] -> [ GreyPlayer ] 
late [ DyingPlayer ] -> [ GreyPlayer ] 
late [ GreyPlayer GreyStartPoint ] [ GreyWall ] -> [ GreyPlayer GreyStartPoint ] [ BlueWall ] 
late [ GreyPlayer GreyStartPoint ] [ GreyCrate ] -> [ GreyPlayer GreyStartPoint ] [ RedCrate ] 
late [ GreyPlayer GreyStartPoint ] [ GreyWhale ] -> [ GreyPlayer GreyStartPoint ] [ RedWhale ] 
late [ GreyPlayer GreyStartPoint ] [ GreyEndPoint ] -> [ GreyPlayer GreyStartPoint ] [ RedEndPoint ] 
late [ GreyPlayer GreyStartPoint ] [ GBackground ] -> [ GreyPlayer GreyStartPoint ] [ OBackground ] 
late [ GreyPlayer GreyStartPoint ] -> [ YellowPlayer RedStartPoint ] 
late [ player ] -> again 


WINCONDITIONS

All Player on RedEndPoint

LEVELS

#########
#......E#
#..CC..##
#.....##,
#.....W#,
##.#####,
#......#,
#..CC..#,
#..CC..#,
##.....#,
#W.....#,
######.#,
#......#,
#......#,
##S#####,
########,
