title Magnetoban
author Mrquaotta
homepage www.puzzlescript.net
run_rules_on_level_start

OBJECTS

Background
Blue DarkBlue
11111
10001
10001
10001
1111

Wall
DarkGreen #5c5c8a
10001
01100
11000
00011
0101

Cover1
DarkGreen #5c5c8a #4db8ff
.....
.....
.....
.....
2222

Cover2
DarkBlue Blue #4db8ff
22222
.....
.....
.....
....

Cover3
DarkGreen #5c5c8a
.....
.....
.....
.....
0101

Cover4
#4db8ff
.....
.....
.....
00000
0000

Empty
Black

PlayerD
Orange DarkBrown Purple DarkGray
..0..
.222.
02220
01110
.1.1

PlayerL
Orange DarkBrown Purple
..0..
.222.
.220.
.110.
.1.1

PlayerR
Orange DarkBrown Purple
..0..
.222.
.022.
.011.
.1.1

Crate
LightBrown Brown Yellow
.222.
.222.
.222.
.111.
.111

MagnetD
DarkRed Red DarkGray Gray
.111.
11111
11011
33.33
22.2

MagnetU
DarkRed Red DarkGray Gray
33.33
11.11
11111
01110
.000

MagnetR
DarkRed Red DarkGray Gray
.1113
11002
11113
01113
.000

MagnetL
DarkRed Red DarkGray Gray
3111.
20011
31111
31110
2000

TargetD
LightBlue
.....
.000.
00000
00.00
00.0

TargetU
LightBlue
.....
00.00
00.00
00000
.000

TargetR
LightBlue
.....
.0000
00...
00000
.000

TargetL
LightBlue
.....
0000.
...00
00000
0000

Detect1
Orange

Detect2
Orange

Detect3
Orange

Detect4
Orange

WaveD
Purple

WaveU
LightBrown

WaveL
LightRed

WaveR
LightGreen

Center1
Transparent

Center2
Transparent


LEGEND

. = Background
# = Wall
- = Empty
P = PlayerD
* = Crate
a = MagnetD
b = MagnetU
c = MagnetR
d = MagnetL
e = TargetD
f = TargetU
g = TargetR
h = TargetL
Player = PlayerD or PlayerL or PlayerR
Moveable = MagnetD or MagnetU or MagnetR or MagnetL or Crate
Target = TargetD or TargetU or TargetL or TargetR
Object = Moveable or Wall or Player
MagnetDU = MagnetD or MagnetU
MagnetLR = MagnetL or MagnetR
MagnetDLR = MagnetD or MagnetL or MagnetR
MagnetULR = MagnetU or MagnetL or MagnetR
MagnetDUR = MagnetD or MagnetU or MagnetR
MagnetDUL = MagnetD or MagnetU or MagnetL
Magnet = MagnetD or MagnetU or MagnetR or MagnetL

COLLISIONLAYERS

Background
WaveD, Detect3, Detect4, Empty
WaveU
WaveL, Detect1, Detect2
WaveR
Center1
Center2
Cover2
Target
Object
Cover1, Cover3, Cover4

RULES

Down [ Wall | noWall ] -> [ Cover1Wall | Cover2noWall ]Up [ Wall | noWall ] -> [ Wall | Cover3noWall ][ LeftPlayerD ] -> [ LeftPlayerL ][ RightPlayerD ] -> [ RightPlayerR ][ VerticalPlayerL ] -> [ VerticalPlayerD ][ RightPlayerL ] -> [ RightPlayerR ][ VerticalPlayerR ] -> [ VerticalPlayerD ][ LeftPlayerR ] -> [ LeftPlayerL ][ > Player | Moveable ] -> [ > Player | > Moveable ][ MovingPlayer ] -> [ MovingPlayer ] againDown [ Detect3 | MagnetLR ] -> [ Detect3 | < MagnetLR ] againUp [ Detect4 | MagnetLR ] -> [ Detect4 | < MagnetLR ] againLeft [ Detect2 | MagnetDU ] -> [ Detect2 | < MagnetDU ] againRight [ Detect1 | MagnetDU ] -> [ Detect1 | < MagnetDU ] againDown [ noObject | MagnetDLRWaveD ] -> [ noObject | < MagnetDLRWaveD ] againUp [ noObject | MagnetULRWaveU ] -> [ noObject | < MagnetULRWaveU ] againLeft [ noObject | MagnetDULWaveL ] -> [ noObject | < MagnetDULWaveL ] againRight [ noObject | MagnetDURWaveR ] -> [ noObject | < MagnetDURWaveR ] againDown [ noObject | MagnetD | Center2 ] -> [ noObject | < MagnetD | Center2 ] againUp [ noObject | MagnetU | Center2 ] -> [ noObject | < MagnetU | Center2 ] againLeft [ noObject | MagnetL | Center1 ] -> [ noObject | < MagnetL | Center1 ] againRight [ noObject | MagnetR | Center1 ] -> [ noObject | < MagnetR | Center1 ] againDown Late [ MagnetD |  ] -> [ MagnetD | WaveD ]Down Late [ WaveD |  ] -> [ WaveD | WaveD ][ WaveD ] -> [  ]Up Late [ MagnetU |  ] -> [ MagnetU | WaveU ]Up Late [ WaveU |  ] -> [ WaveU | WaveU ][ WaveU ] -> [  ]Left Late [ MagnetL |  ] -> [ MagnetL | WaveL ]Left Late [ WaveL |  ] -> [ WaveL | WaveL ][ WaveL ] -> [  ]Right Late [ MagnetR |  ] -> [ MagnetR | WaveR ]Right Late [ WaveR |  ] -> [ WaveR | WaveR ][ WaveR ] -> [  ]Late [ WaveRWaveL ] -> [ Center1 ][ Center1 ] -> [  ]Late [ WaveDWaveU ] -> [ Center2 ][ Center2 ] -> [  ]Down Late [ MagnetUCenter2 | Center2Center1 | noObject ] -> [ MagnetUCenter2 | Center2Center1 | Crate ]Up Late [ MagnetDCenter2 | Center2Center1 | noObject ] -> [ MagnetDCenter2 | Center2Center1 | Crate ]Left Late [ MagnetRCenter1 | Center2Center1 | noObject ] -> [ MagnetRCenter1 | Center2Center1 | Crate ]Right Late [ MagnetLCenter1 | Center2Center1 | noObject ] -> [ MagnetLCenter1 | Center2Center1 | Crate ]Down Late [ MagnetUWaveD | Center1WaveD | noObject ] -> [ MagnetUWaveD | Center1WaveD | Crate ]Up Late [ MagnetDWaveD | Center1WaveD | noObject ] -> [ MagnetDWaveD | Center1WaveD | Crate ]Down Late [ MagnetUWaveU | Center1WaveU | noObject ] -> [ MagnetUWaveU | Center1WaveU | Crate ]Up Late [ MagnetDWaveU | Center1WaveU | noObject ] -> [ MagnetDWaveU | Center1WaveU | Crate ]Left Late [ MagnetRCenter1 | Center1WaveD | noObject ] -> [ MagnetRWaveD | Center1WaveD | Crate ]Right Late [ MagnetLCenter1 | Center1WaveD | noObject ] -> [ MagnetLWaveD | Center1WaveD | Crate ]Left Late [ MagnetRCenter1 | Center1WaveU | noObject ] -> [ MagnetRWaveU | Center1WaveU | Crate ]Right Late [ MagnetLCenter1 | Center1WaveU | noObject ] -> [ MagnetLWaveU | Center1WaveU | Crate ]Down Late [ MagnetUCenter2 | Center2WaveR | noObject ] -> [ MagnetUCenter2 | Center2WaveR | Crate ]Up Late [ MagnetDCenter2 | Center2WaveR | noObject ] -> [ MagnetDCenter2 | Center2WaveR | Crate ]Down Late [ MagnetUCenter2 | Center2WaveL | noObject ] -> [ MagnetUCenter2 | Center2WaveL | Crate ]Up Late [ MagnetDCenter2 | Center2WaveL | noObject ] -> [ MagnetDCenter2 | Center2WaveL | Crate ]Left Late [ MagnetRWaveR | Center2WaveR | noObject ] -> [ MagnetRWaveR | Center2WaveR | Crate ]Right Late [ MagnetLWaveR | Center2WaveR | noObject ] -> [ MagnetLWaveR | Center2WaveR | Crate ]Left Late [ MagnetRWaveL | Center2WaveL | noObject ] -> [ MagnetRWaveL | Center2WaveL | Crate ]Right Late [ MagnetLWaveL | Center2WaveL | noObject ] -> [ MagnetLWaveL | Center2WaveL | Crate ]Left Late [ MagnetRWaveL | WaveLWaveD | noObject ] -> [ MagnetRWaveL | WaveLWaveD | Crate ]Right Late [ MagnetDULWaveL | WaveLWaveD | noObject ] -> [ MagnetDULWaveL | WaveLWaveD | Crate ]Left Late [ MagnetDURWaveR | WaveRWaveD | noObject ] -> [ MagnetDURWaveR | WaveRWaveD | Crate ]Right Late [ MagnetLWaveR | WaveRWaveD | noObject ] -> [ MagnetLWaveR | WaveRWaveD | Crate ]Down Late [ MagnetUWaveD | WaveRWaveD | noObject ] -> [ MagnetUWaveD | WaveRWaveD | Crate ]Down Late [ MagnetUWaveD | WaveLWaveD | noObject ] -> [ MagnetUWaveL | WaveRWaveD | Crate ]Up Late [ MagnetDWaveU | WaveLWaveU | noObject ] -> [ MagnetDWaveU | WaveLWaveU | Crate ]Up Late [ MagnetDWaveU | WaveRWaveU | noObject ] -> [ MagnetDWaveU | WaveRWaveD | Crate ]Left Late [ MagnetDURWaveR | WaveRWaveU | noObject ] -> [ MagnetDURWaveR | WaveRWaveU | Crate ]Right Late [ MagnetLWaveR | WaveRWaveU | noObject ] -> [ MagnetLWaveR | WaveRWaveU | Crate ]Left Late [ MagnetRWaveL | WaveLWaveU | noObject ] -> [ MagnetRWaveL | WaveLWaveU | Crate ]Right Late [ MagnetDULWaveL | WaveLWaveU | noObject ] -> [ MagnetDULWaveL | WaveLWaveU | Crate ]Right Late [ noMagnetR | MagnetDUCenter1 | noMagnetL ] -> [ Detect1 | MagnetDUCenter1 | Detect2 ]Right Late [  | Detect1noMagnetR | ... | Detect2noMagnetL |  ] -> [ Detect1 | noMagnetR | ... | noMagnetL | Detect2 ]Late [ Detect1noMagnetR ] -> [ noMagnetR ]Late [ Detect2noMagnetL ] -> [ noMagnetL ]Left Late [ noMagnetDU | Detect1 ] -> [ Detect1 | Detect1 ]Right Late [ noMagnetDU | Detect2 ] -> [ Detect2 | Detect2 ]Right Late [ Detect1 | MagnetDU | Detect2 ] -> [  | MagnetDU |  ][ Detect1 ] -> [  ][ Detect2 ] -> [  ]Down Late [ noMagnetD | MagnetLRCenter2 | noMagnetU ] -> [ Detect3 | MagnetLRCenter2 | Detect4 ]Down Late [  | Detect3noMagnetD | ... | Detect4noMagnetU |  ] -> [ Detect3 | noMagnetD | ... | noMagnetU | Detect4 ]Late [ Detect3noMagnetD ] -> [ noMagnetD ]Late [ Detect4noMagnetU ] -> [ noMagnetU ]Up Late [ noMagnetLR | Detect3 ] -> [ Detect3 | Detect3 ]Down Late [ noMagnetLR | Detect4 ] -> [ Detect4 | Detect4 ]Down Late [ Detect3 | MagnetLR | Detect4 ] -> [  | MagnetLR |  ][ Detect3 ] -> [  ][ Detect4 ] -> [  ]

WINCONDITIONS

All TargetU on MagnetU
All TargetD on MagnetD
All TargetR on MagnetR
All TargetL on MagnetL

LEVELS

-#######
-#....e#
##.c####
#...##g#
#...p.a#
##....##
-#..###-
-####---

#######---
#..ge.####
#.....cpa#
###.#..###
--#.#.##--
--#.#.####
--#.#..ea#
--#...####
--#####---

--#######
--#.....#
--#..a.f#
####....#
#..p..be#
#....####
#....#---
######---

-######-
##....##
#..af..#
#.c##p.#
#.g##..#
#..eb..#
##....##
-######-

###########
#..g.e....#
#..######.#
#..#.*..#.#
#..*..a.*.#
#.c#.*..#.#
#.p######.#
#.........#
###.......#
--#########

###########
#.........#
#...bpd...#
#..f###h..#
#..#b..#..#
#..#.f.#..#
#..#......#
#...###...#
#.........#
#.........#
###########

############
#..........#
#....p*....#
#..######..#
#..#.gh.#..#
#..*cadb#f.#
#..*....#..#
#.......#e.#
############

######---
#...e#---
#.ga*#---
##..h####
###.....#
#..p.d..#
#.c.#####
#####----

-----#####
-----#...#
-#####.#.#
-#..##...#
-#...*.p##
##...#d.#-
#dg.c#hh#-
##...#..#-
-########-

----###-----
#####a#####-
#..#..##..#-
#..#..##..##
#.cc**...gg#
#.....p....#
############

##########
#....e#h.#
#.####...#
#b.......#
######..##
#fdpa...#-
#.......#-
#......##-
########--

-####-####
-#..###..#
-#c..*...#
##p.###*.#
#..*.g#..#
#..*.a#*.#
##..###..#
-##..e...#
--########
