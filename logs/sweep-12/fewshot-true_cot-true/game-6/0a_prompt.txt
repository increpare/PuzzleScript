SYSTEM PROMPT:
You are a game designer, familiar with the PuzzleScript game description language. Here are some example games, for inspiration (do not reproduce these games exactly):

title cute train
author Mark Wonnacott
homepage http://twitter.com/ragzouken

flickscreen 16x10
color_palette pastel
youtube pTgEXwzk7XU

noundo
norestart

========
OBJECTS
========

Background
lightgreen green
01000
00110
10010
10100
01001

Water
blue white lightblue
20010
02002
12020
00220
02002

Water2
blue white lightblue
02000
20210
00202
01022
20200

Gerald
blue black
.000.
01010
10001
01110
.000.

Mountain
darkbrown darkbrown
..0..
.10..
.000.
0000.
11001

Forest
darkgreen brown
.000.
00000
00000
00100
.111.

Beach
yellow white
00010
01000
00001
00100
10000

Player
yellow black
.000.
01010
10001
01110
.000.

GhostVTrack
yellow
GhostHTrack
yellow
GhostURTrack
yellow
GhostULTrack
yellow
GhostDLTrack
yellow
GhostDRTrack
yellow

VTrack
grey darkbrown
0...0
0...0
01110
0...0
0...0

HTrack
grey darkbrown
00000
..1..
..1..
..1..
00000

Structs
black darkbrown
11111
10101
11111
10101
11111

URTrack
grey darkbrown
...00
..0..
.01..
0..1.
0...1

ULTrack
grey darkbrown
00...
..0..
..10.
.1..0
1...0

DLTrack
grey darkbrown
1...0
.1..0
..10.
..0..
00...

DRTrack
grey darkbrown
0...1
0..1.
.01..
..0..
...00

UTrain
red black darkred
.000.
01110
00000
00100
00000

RTrain
red black darkred
0000.
00010
01010
00010
0000.

LTrain
red black darkred
.0000
01000
01010
01000
.0000

DTrain
red black darkred
00000
00100
00000
01110
.000.

Cart
red black darkred
22222
21112
21112
21112
22222

Smoke1
white
..0..
.0.0.
0.0.0
.0.0.
..0..

Smoke2
white
.....
.0.0.
..0..
.0.0.
.....

Smoke3
white
.....
..0..
.0.0.
..0..
.....

Switch
red black
...0.
..1..
.1...
.111.
.....

=======
LEGEND
=======

. = Background
^ = Mountain
% = Forest
~ = Water
, = Beach

| = VTrack
- = HTrack
r = URTrack
¬ = ULTrack
l = DRTrack
j = DLTrack
X = VTrack and Structs
Z = HTrack and Structs
Q = ULTrack and Structs

P = Player

T = VTrack and UTrain
C = VTrack and Cart

[ = HTrack and RTrain
] = HTrack and Cart

/ = Switch

1 = GhostHTrack and URTrack
! = HTrack and GhostURTrack
2 = HTrack and GhostDRTrack
3 = HTrack and GhostULTrack
4 = GhostHTrack and DLTrack
5 = GhostVTrack and URTrack
6 = GhostVTrack and DRTrack
7 = GhostVTrack and ULTrack
8 = GhostVTrack and DLTrack

_ = Beach and HTrack

WaterR = Water or Water2

Ghost = GhostHTrack or GhostVTrack or GhostULTrack or GhostURTrack or GhostDLTrack or GhostDRTrack
Track = HTrack or VTrack or ULTrack or URTrack or DLTrack or DRTrack

Train = UTrain or DTrain or LTrain or RTrain
Vehicle = Train or Cart
Mover = Vehicle or Player

G = Gerald and Structs

=======
SOUNDS
=======

Train move 91301709
SFX1 53409305
SFX2 38557307
SFX3 99431502

================
COLLISIONLAYERS
================

Background
Beach GhostVTrack GhostHTrack GhostURTrack GhostULTrack GhostDLTrack GhostDRTrack
Structs
VTrack HTrack URTrack ULTrack DLTrack DRTrack Switch
Water Water2 Mountain Forest Player UTrain RTrain LTrain DTrain Cart Gerald
Smoke1 Smoke2 Smoke3

======
RULES
======

(animate water)
[        WaterR ] -> [ action WaterR ]
[ action WaterR ] -> [ random WaterR ]

[ action Player no Structs | Cart ] [ Train ] -> [ Player | Cart ] [ action Train ]

(move the train if we're on the impassable structs)
[ Structs Mover ] [ Train ] -> [ Structs Mover ] [ action Train ]

[ action Train ] -> [ action Train Smoke1 ]

[ action UTrain ] -> [    up UTrain ]
[ action DTrain ] -> [  down DTrain ]
[ action RTrain ] -> [ right RTrain ]
[ action LTrain ] -> [  left LTrain ]

late [ Mover Structs ] -> [ Mover Structs ] again (repeat if the train is still on structs)

(cart follows train, player follows cart)
[ Cart   | moving Train ] -> [ > Cart   | moving Train ]
[ Player | moving Cart  ] -> [ > Player | moving Cart  ]

[ > Player | Structs no Gerald no Cart ] -> [ Player | Structs ] message It's dangerous to walk along railway bridges!

(endgame message)
[ >      Player | Gerald ] -> [ Player | Gerald ] message you made it! thanks for playing.
[ action Player | Gerald ] -> [ Player | Gerald ] message you made it! thanks for playing.

(train turns when entering corners)
up    [ > UTrain | URTrack ] -> [ > RTrain | URTrack ]
up    [ > UTrain | ULTrack ] -> [ > LTrain | ULTrack ]

right [ > RTrain | ULTrack ] -> [ > DTrain | ULTrack ]
right [ > RTrain | DLTrack ] -> [ > UTrain | DLTrack ]

down  [ > DTrain | DRTrack ] -> [ > RTrain | DRTrack ]
down  [ > DTrain | DLTrack ] -> [ > LTrain | DLTrack ]

left  [ > LTrain | URTrack ] -> [ > DTrain | URTrack ]
left  [ > LTrain | DRTrack ] -> [ > UTrain | DRTrack ]

(animate smoke)
[ Smoke3 ] -> [ ]
[ Smoke2 ] -> [ Smoke3 ]
[ Smoke1 ] -> [ Smoke2 ]

[ action Player Switch ] -> [ Player action Switch ]

(switch all uncovered tracks at once)
[ action Switch ] [ Ghost Vehicle ] -> [ action Switch ] [ Ghost Vehicle ] SFX3 (play blocking sound if switch tracks are covered while switching)
[ action Switch ] [ Ghost no Vehicle ] -> [ action Switch ] [ action Ghost ] SFX2

[ action GhostHTrack URTrack no Vehicle ] -> [ HTrack GhostURTrack ]
[ HTrack action GhostURTrack no Vehicle ] -> [ GhostHTrack URTrack ]
[ action GhostHTrack DRTrack no Vehicle ] -> [ HTrack GhostDRTrack ]
[ HTrack action GhostDRTrack no Vehicle ] -> [ GhostHTrack DRTrack ]
[ action GhostHTrack ULTrack no Vehicle ] -> [ HTrack GhostULTrack ]
[ HTrack action GhostULTrack no Vehicle ] -> [ GhostHTrack ULTrack ]
[ action GhostHTrack DLTrack no Vehicle ] -> [ HTrack GhostDLTrack ]
[ HTrack action GhostDLTrack no Vehicle ] -> [ GhostHTrack DLTrack ]

[ action GhostVTrack URTrack no Vehicle ] -> [ VTrack GhostURTrack ]
[ VTrack action GhostURTrack no Vehicle ] -> [ GhostVTrack URTrack ]
[ action GhostVTrack DRTrack no Vehicle ] -> [ VTrack GhostDRTrack ]
[ VTrack action GhostDRTrack no Vehicle ] -> [ GhostVTrack DRTrack ]
[ action GhostVTrack ULTrack no Vehicle ] -> [ VTrack GhostULTrack ]
[ VTrack action GhostULTrack no Vehicle ] -> [ GhostVTrack ULTrack ]
[ action GhostVTrack DLTrack no Vehicle ] -> [ VTrack GhostDLTrack ]
[ VTrack action GhostDLTrack no Vehicle ] -> [ GhostVTrack DLTrack ]

==============
WINCONDITIONS
==============

=======
LEVELS
=======

(feel free to try making more puzzles!

editing tip: copy out a few rows of screens to edit in isolation

* use bridges (structs) to force the train over junctions before there's a chance to switch them
* use bridges to make switches unreachable until junctions have been crossed
* use the train itself and narrow passages to make switches unreachable until junctions have been crossed)

message welcome to the breezy isles!

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~,,,,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~,,,,,,,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~,,..,,,,,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~,,,p.,,,,,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~,,....,,,,,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~,,,.....,,,,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~,,,......,,,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~,,.......,,,,,,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~,,,........,,,,,,,~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~,,,..........,,,,,,,,~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~,,...............,,,,,,~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~,~~,...%.........%....,,,,~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~,,,,,~..%.................,,,,~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~,,,,,,,,..~~%%%%%.r-------¬.....,,,,~~~~~~~~~~~~~~~~~~~~
,,,,,,,,,,,,,....%%~%%%%%%t.......l-¬.....,,,~~~~~~~~~~~~~~~~~~~
,,,,,,..........%%%~~%%%%%c%%.......l-¬....,,~~~~~~~~~~~~~~~~~~~
........%%%..%%%%%%%~%%%%%|%%%%%....|.l--¬..,,~~~~~~~~~~~~~~~~~~
.%%%%.%%%%%%%%%%%%%%~%%%%%|%%%%%%%..|...%l¬.,,~~~~~~~~~~~~~~~~~~
%%%%%%%%%%%%%%%%%%%%~%%%%%|%%%%%%%%.l¬..%%|.,,~~~~~~~~~~~~~~~~~~
%%%%%%%%%%%%%%%%%%%%~%%%%%|%%%%%%%%..|.%%%|.,,~~~~~~~~~~~~~~~~~~
%%%%r---------------z-¬%%%|%%%%%%....|%%%%|.,,~~~~~~~~~~~~~~~~~~
%%.rj........%%%%%%%~%l¬%.|..........|%%%rj,,,~~~~~~~~~~~~~~~~~~
%%rj.~~~~G~~~~%%%%%%~^%l--¬..........l---j.,,,~~~~~~~~~~~~~~~~~~
%.|.~~~~~x~~~~~%%%%^~^....|.....^^^........,,~~~~~~~~~~~~~~~~~~~
%.|.~~~~~~~~~~~%%^^^~^....l¬...^^^^^^......,,~~~~~~~~~~~~~~~~~~~
%.|.~~~~~~~~~~%%%^^^~^^^..^l¬^^^^^^^^^^^^^.,^^~~~~~~~~~~~~~~~~~~
%%l¬.~~~~~~~%%%^^^^^~^^^^^^^l¬^^^^^^^^^^^^^^^^~~~~~~~~~~~~~~~~~~
%%.|..~~~~%%%%^^^^^~~^^^^^^^^x~^^^^^^^^^^^^^^^^~~~~~~~~~~~~~~~~~
%%%|.%%%%%%%%^^^^^^~^^^^^^^^~x~^^^^^^^^^^^^^^^^~~~~~~~~~~~~~~~~~
%%%x%%%%%%%%%^^^^^~~^^^^^^^^~x~^^^^^^^^^^^^^^^^^^^^^^~~~~~~~~~~~
%%rj%%%%%%%%%^^^^^^~^^^^^^^~~x~%...%%^^%%^^^^^^^^^^^^^~~^~~~~~~~
%%5z---¬%%%%%^^^^^^~^^^^^^^~^l¬..%r------¬%%^^^^^^^^^^^~~~~~~~~~
%%|%%%%|%%%%^^^^^^^~~^^^^^~~^^l¬..|.%%%%%|%%%.^^^^^^^^^^^~~~~~~~
%r4z---¬%%%%^^^^^^^^~~^^^^~^^^.l--l---3--j%%..^^^^^^^^^^^^~~~~~~
%x./%r-¬%%%%^^^^^^^^^~~^^~~^^^........|%%%%%..^^^^^^^^^^^^^~~~~~
%l--zj¬j%%%%^^^^^^^^^^~~~~^^^^%%..../.|.%%...^^^^^^^^^^^^^~~~~~~
%%%%%%5z¬z¬%^^^^^^^^^^^^~~^^^^^%%%....|......^^^^^^^^^^^^^^~~~~~
%%r--¬x%lzj%^^^^^^^^^^^^~^^^^^^%%%%..~x~~~~~~~^^^^^^^^^^^^^^~^~~
%%|%%|x%%%%%%^^^^^^^^^^^~^^^^^^%%%%%~~x~~~~~~~~^^^^^^^^^^^^^~~~~
%%|%%|x%%%%%%%%^^^^^^^^^~^^^^^^%%%%%~~x~~~~~~~~^^^^^^^^^^^^^~~~~
%%r--47---¬¬---zzzzz1zzzzz¬^^^^^%%%..~x~~~~....%^^^^^^^^^^^~~~~~
%%|%%%x%.%lj%%^^^^^^x^^^~^lz¬^^^^%%...|..%...%.%%%^^^^^^,,~~~~~~
%%|%/.l¬.%%%^^^^^^^^x^^^~~^^lz¬^^%%...|.....%...........,,~~~^^~
%%|%%%lj%%%^^^^^^^^^x^^^^~^~^^x^^^%%.rl-----------r-----__zzz¬^~
%%l¬%%%%%^^^^^^^^^^^x^^^^~~^^^x^^^%%.|........%...|.....,,~~^x^~
%%lj%%%%%^^^^^^^^^^r-¬^^^~~~~^x^^^^^%|...%^^^.....l¬../.,,~~~x~~
%%%%%%%%^^^^^^^^^^^|l¬%^^~~~~~x~^^^^^|.^^^^^^^^^^..|....^^^~~x~~
%%%%%%%^^^^^^^^^^%rj%|%^^^~~^^x^^^^^rj%%^^^^^^^%%.%l¬.^^^^^^~x~~
%%%%%%^^^^^^^^^^^%|%%|%^^~^^~^x^^^%.|...%%..%.......|....,,~~x~~
%%%%^^^^^^^^^^^^^%|/.|%^~^^^^^x^^^%.|.%.............|...,,,~^x^~
%%^^^^^^^^^^^^^^^%l--8^^^^^^^rj%^^..|..r----!-------2--1___zzj^~
^^^^^^^^^^^^^^^^^%|%^x^^^^^^^x^^^^%.|.%|%%..|....%..|%.|,,,~~^~~
^^^^^^^^^^^^^^^^^^|.rlzz--3z-4¬^^^%.|.%l¬...|.......|..l¬,,~~~~~
^^^^^^^^^^^^^^^^^^x^|^^^..|^..|%^^..l¬%%l-----------j...|,,,~~~~
^^^^^^^^^^^^^^^^^^l-|---¬/|^.%|%^^%..|.%.%%.l¬%....%....|,,,,~~~
^^^^^^^^^^^^^^^^^^^%|.%%l-j---j%^^^%.l¬.....%l¬.%.....%.|,,,,~~~
^^^^^^^^^^^^^^^^^^^%|%%%%%%%%%%^^^^%%.|.%%%...l--¬......l¬,,,~~~
^^^^^^^^^^^^^^^^^^^^x^^^^%%%^^^^^^^%%.|..%..%...%l-¬%....|,,,~~~
^^^^^^^^^^^^^^^^^^^^x^^^^^^^^^^^^^^%%%|%%%%..%%....l¬....|,,,,~~
^^^^^^^^^^^^^^^^^^^^x^^^^^^^^^^^^^^^%%|%^^%%......%.l¬...|.,,,~~
^^^^^^^^^^^^^^^^^^^^x^%%%%%^^^^^^^^^^^|%%^^^^^^.%%...|...|^^^,~~
^^^^^^^^^^^^^^^^^^^%|%%....%%^^^^^^^^%|%%%^^^^^^^^^%.|.^^|^^,,~~
^^^^^^^^^^^^^^^^^^^%|%..%^..%%^^^^^%%rj%%^^^^^^^%....|...|^,,,~~
^^^^^^^^^^^^^^^^^^^%|./.^%%..%%^^^%%.|.%..%......../.6---¬^,,,~~
^^^^^^^^^^^^^^^^^^^%|..%^%....%^^^%..|%..%...%......rj...|.,,,~~
^^^^^^^^^^^^^^^^^^^%l--!z1--¬--zzz----------------!-j..%.|,,,,~~
^^^^^^^^^^^^^^^^^^^^%%%|^|..|.%^^^%..|.%.%..%..%..|...%..|,,,,~~
^^^^^^^^^^^^^^^^^^^^^^^x^|%%|%^^^^%%.|%%%.........|......|,,,,~~
^^^^^^^^^^^^^^^^^^^^^^^x^x^^x^^^^^^%%|%^^^^^^.....|...^^rj^,,~~~
^^^^^^^^^^^^^^^^^^^^^^^x^x^^x^^^^^^^^|%.^^^^^^^^%.|.^^^^|^^^^~~~
^^^^^^^^^^^^^^^^^^^^^^^x^x^^x^^^^^^^%|^^^^^^^^.%..|.....|,,^^~~~
^^^^^^^^^^^^^^^^^^^^^^^x^x^^l¬^^^^^%%|%%^^^.%.....|...%.|,,,~~~~
^^^^^^^^^^^^^^^^^^^^^^^x^lzzjx^^^^%%.|..%%........|.%...|,,,~~~~
^^^^^^^^^^^^^^^^^^^^^^^l¬^^^^x^^^^%%.l¬%......%..rj..%..|,,,~~~~
^^^^^^^^^^^^^^^^^^^^^^^^x^^^^x^^^^%%%.l¬.%......rj.....rj,,,~~~~
^^^^^^^^^^^^^^^^^^^^^^^^x^^^^x^^^^^%%%%l--------j------j,,,,~~~~
^^^^^^^^^^^^^^^^^^^^^^^^lzzzzj^^^^^^^%%%%%.%%%%...%%%%^^^,,,~~~~
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^%%%%%^^^^^^^^^^^^^^^^^~~
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^~~



title neko puzzle
author lexaloffle
homepage www.lexaloffle.com

(

An inadequate but illustrative demake of one of my favourite puzzle games ever, by the extremely amicable Lexaloffle, and with his permission.

www.lexaloffle.com/neko.htm

The game proper has a lot of magic and love in it.

)

========
OBJECTS
========

Background .
darkblue

Fruit F
red green lightred
..1..
.000.
00020
00000
.000.

Player P
gray white
.1.1.
10101
11111
.111.
00.00

=======
LEGEND
=======

=========
SOUNDS
=========

endlevel 97301508
startgame 97301508
endgame 97301508

================
COLLISIONLAYERS
================

Background
Player, Fruit

======
RULES
======

[ > Player | ... | Fruit ] -> [ | ... | Player ] 

(if you're not sure what this line does, try removing it, and see what happens)
[ > Player ] -> [ Player ] 

==============
WINCONDITIONS
==============

no Fruit

=======
LEVELS
=======

message level 1 of 10

......F.
........
F......F
......FF
........
........
P.......

message level 2 of 10

........
....P...
...F.F..
........
........
..F.FF..
........

message level 3 of 10

........
.FF....F
........
........
F...P...
........
........
F.F.....

message level 4 of 10

....F..F
........
.......F
F.......
P.......
........
F...F...

message level 5 of 10

........
....F.P.
F.F.....
........
F...F...
..F.F...
........

message level 6 of 10

F.....F.
........
........
FF..F...
F.....F.
........
.P......

message level 7 of 10

...FP..F
F.F.....
F......F
........
........
..F.....
........

message level 8 of 10

..F..P..
........
........
.FFF....
F..F..F.
........
........

message level 9 of 10

....F..F
........
.F..F...
........
.F.P..F.
.F......
........

message level 10 of 10

....F.F.
........
.F..F..F
...F..F.
.......F
...FP...
........

message congratulations!


title Simple Block Pushing Game
author increpare
homepage www.puzzlescript.net

========
OBJECTS
========

Background
LIGHTGREEN GREEN
11111
01111
11101
11111
10111


Target
DarkBlue
.....
.000.
.0.0.
.000.
.....

Wall
BROWN DARKBROWN
00010
11111
01000
11111
00010

Player
Black Orange White Blue
.000.
.111.
22222
.333.
.3.3.

BlueCrate B
lightblue
00000
0...0
0...0
0...0
00000


OrangeCrate O
Orange
00000
0...0
0...0
0...0
00000


=======
LEGEND
=======

Crate = OrangeCrate or BlueCrate
. = Background
# = Wall
P = Player


=======
SOUNDS
=======

Crate MOVE 36772507

================
COLLISIONLAYERS
================

Background
Target
Player, Wall, Crate

======
RULES
======

[ >  Player | Crate ] -> [  >  Player | > Crate  ]

[ > Crate | Crate ] -> [ > Crate | > Crate ]

==============
WINCONDITIONS
==============

=======
LEVELS
=======

#########
#.......#
#...B...#
#.P.B.O.#
#....O..#
#.......#
#########



title MC Escher's Equestrian Armageddon
author Anna Clarke
homepage www.puzzlescript.net
again_interval 0.2

========
OBJECTS
========

Background
BLACK DARKBLUE
11111
01111
11101
11111
10111


Target
DarkBlue
.....
.000.
.0.0.
.000.
.....

Wall
BROWN DARKBROWN
00010
11111
01000
11111
00010

Steps1
BROWN DARKBROWN GREEN
....0
...11
..000
.1111
00010

Steps2
BROWN DARKBROWN GREEN
0....
11...
010..
1111.
00010


Steps3
BROWN DARKBROWN GREEN
00010
.1111
..000
...11
....0

Steps4
BROWN DARKBROWN GREEN
00010
1111.
010..
11...
0....

Player1
Black Orange White Blue
.000.
.111.
22222
.333.
.3.3.

Player2
Black Orange White Blue
..2..
01233
0123.
01233
..2..

Player3
Black Orange White Blue
..2..
33210
.3210
33210
..2..

Player4
Black Orange White Blue
.3.3.
.333.
22222
.111.
.000.

Horse
Orange Brown
...0.
...00
0110.
0000.
0..0.

Blood
Red
.....
.....
.....
.....
00000

Crate
Orange Yellow
00000
0...0
0...0
0...0
00000


=======
LEGEND
=======

. = Background
B = Blood
# = Wall
1 = Steps1
2 = Steps2
3 = Steps3
4 = Steps4
Steps = Steps1 or Steps2 or Steps3 or Steps4

P = Player1
Q = Player2

Player = Player1 or Player2 or Player3 or Player4

H = Horse

Animated = Player or Horse
* = Crate
@ = Crate and Target
O = Target

Solid = Wall or Steps or Horse or Player

=======
SOUNDS
=======

================
COLLISIONLAYERS
================

Background
Blood
Target
Player1, Player2, Player3, Player4, Wall, Crate, Steps, Horse

======
RULES
======


[ > Player1 ] -> [> Player1] again
DOWN [ Player1 | No Solid ] -> [ | Player1 ] again

[ > Player2 ] -> [> Player2] again
right [ Player2 | No Solid ] -> [ | Player2 ] again

[ > Player3 ] -> [> Player3] again
left [ Player3 | No Solid ] -> [ | Player3 ] again

[ > Player4 ] -> [> Player4] again
up [ Player4 | No Solid ] -> [ | Player4 ] again

right [ right  Player1 | Steps1 ] -> [ up Player2 | Steps1 ] again
left [ left  Player1 | Steps2 ] -> [ up Player3 | Steps2 ] again

down [ down  Player2 | Steps1 ] -> [ left Player1 | Steps1  ] again
up [ up Player2 | Steps3 ] -> [ left Player4 | Steps3 ] again

down [ down  Player3 | Steps2 ] -> [ right Player1 | Steps2  ] again
up [ up Player3 | Steps4 ] -> [ right Player4 | Steps4 ] again

left [ left Player4 | Steps4 ] -> [ down Player3 | Steps4 ] again
right [ right Player4 | Steps3 ] -> [down Player2 | Steps3 ] again

[ > Horse ] -> [> Horse] again
DOWN [ Horse | No Solid ] -> [ | Horse ] again

[ Action Player | Horse ] -> [  Action Player | Blood  ]

==============
WINCONDITIONS
==============

No Horse

=======
LEVELS
=======
#################
#.....######....#
#.....######....#
#.P.............#
####.........H..#
#################

#######
#4...3#
#.....#
#....Q#
#.....#
#.....#
#2.H.1#
#######


####################
#4..3..3###4......3#
#.......3#4........#
#...H....#.....1...#
#...P.........1#...#
#2.1#2.H1##..1##.H.#
####################


###########################################
#4........................3#
#..........................#
#.................####.....#
#2P..............H####2....#
#########################..#
######4.....................#
######.......................#
######........................#
######.........................#
######.........................#
######.....##..................#
######2.H..##2.............2..1#
###################........#####
###################........4..3#
###################............#
#4.............................#
#.................#............#
#2......H........##H......H..1##
##########################################


title The Legend of Zokoban
author Joshua Minor
homepage pixelverse.org
flickscreen 9x7

========
OBJECTS
========

Background
yellow orange
00000
01000
00001
00100
10000

Water
blue lightblue
00000
01000
00001
00100
10000

Cave
DarkBlue
00000
00000
00000
00000
00000

Goal
DarkBlue Red
00000
00000
00100
00000
00000

RockWall
BROWN Orange
01110
10000
10010
10000
00100

StoneWall
darkgrey grey
01110
10000
10010
10000
00100

PlayerWithoutSword
GREEN lightgreen
.00..
00000
.000.
.111.
00.00

PlayerWithSword
GREEN lightgreen white grey
.002.
00020
.0222
.110.
00.00

Sword
grey white
..1..
..1..
.111.
..0..
.....

Block
BROWN Orange darkgrey
.111.
10001
10002
10002
.222.

EasyBaddie
white red
.111.
10101
11111
11111
11.11

Money
white lightblue
..1..
.001.
10111
.111.
..1..

=======
LEGEND
=======

Wall = StoneWall or RockWall
Solid = Wall or Block or Water
Player = PlayerWithoutSword or PlayerWithSword
Obstacle = Wall or Block or Player or Water
Baddie = EasyBaddie

. = Background
# = RockWall
S = StoneWall
P = PlayerWithoutSword
* = Block
@ = Block and Cave
O = Cave
w = Water
1 = EasyBaddie
+ = Sword
G = Goal

=======
SOUNDS
=======

StartLevel 40430108 (music-ish)
SFX0 16358103 (power up)
SFX1 84057304 (push)
SFX2 74654508 (stairs)
SFX3 21293301 (fight)
SFX4 49521903 (hurt)
SFX5 47598700 (money)
ShowMessage 82693708 (you win!)

================
COLLISIONLAYERS
================

Background
Cave, Goal
Player, Wall, Block, Water, EasyBaddie
Sword, Money

======
RULES
======

(baddies move at random)
[ Stationary Baddie ] -> [ RandomDir Baddie ]

(player can push blocks)
[ > Player | Block ] -> [ > Player | > Block ] SFX1

(blocks pushed into water become land)
[ > Block | Water ] -> [ | ]

(baddies can attack the player w/o sword)
[ > Baddie | Player No Sword ] -> SFX4

(player can pick up sword)
([ > Player | Sword ] -> [ | Player Sword ] SFX0)
[ PlayerWithoutSword Sword ] -> [ PlayerWithSword ] SFX0

(player with sword can kill baddies & leave money)
[ > PlayerWithSword | Baddie ] -> [ PlayerWithSword | Money ] SFX3
(sword moves with player)
([ > Player Sword ] -> [ > Player > Sword ])
(sword doesn't move into obstacles)
([ > Sword | Stationary Obstacle ] -> [ Sword | Stationary Obstacle ])

(player can pick up money)
[ > Player | Money ] -> [ | Player ] SFX5

(blocks pushed into caves, teleport to other end of cave)
random [ Moving Block Cave | ... | Cave ] -> [ Cave | ... | Block Cave ]
(blocks sitting on cave exits will roll aside to let player follow them)
late random [ Block Cave | No Obstacle ] -> [ Cave | Block ]
(players can enter caves - teleporting to orthogonally matching cave)
late random [ Player Cave | ... | Cave ] -> [ Cave | ... | Player Cave ] SFX2
(sword follows player through the cave)
(late random [ Sword Cave | ... | Cave ] -> [ Cave | ... | Sword Cave ])


==============
WINCONDITIONS
==============

All Player on Goal

=======
LEVELS
=======

sssssssss#################wwwwwwwwww
ss.s1s..s#1#####.##..1..1.wwwwww..ww
s.......s#.#####.##.#.#.#.wwwww..*.w
s..*....o#.##o##.............ww....w
s.s....ss#..........#.*.#....ww..1.w
sss.s.sss##...............wwwwww..ww
sssssssss#####..#####.....wwwwwwwwww
sssssssss#####..#####.....wwwwwwwwww
ss1...sss#####..####.....wwww.....ww
s......os##o#....##...#.1www..s.s..w
s..+...ss#.......##*......ww...g...w
ss.....ss#...p..........#.ww..s.s.1w
ssss..sss##.....###..#.1..www..1..ww
sssssssss#################wwwwwwwwww

message Congratulations!



title Match 3 Block Push
author increpare
homepage www.puzzlescript.net

========
OBJECTS
========

Background
lightgreen green
11111
01111
11101
11111
10111


Target
darkblue
.....
.000.
.0.0.
.000.
.....

Wall
brown darkbrown
00010
11111
01000
11111
00010

Player
black orange white blue
.000.
.111.
22222
.333.
.3.3.

Crate
orange yellow
00000
0...0
0...0
0...0
00000


=======
LEGEND
=======

. = Background
# = Wall
P = Player
* = Crate
@ = Crate and Target
O = Target


=======
SOUNDS
=======

Crate MOVE 36772507

================
COLLISIONLAYERS
================

Background
Target
Player, Wall, Crate

======
RULES
======

[ >  Player | Crate ] -> [  >  Player | > Crate  ]

late [ Crate | Crate | Crate ] -> [ | | ]

==============
WINCONDITIONS
==============

all Crate on Target

=======
LEVELS
=======

#########
#.......#
#.*.*.@.#
#.P...O.#
#...*.*.#
#.......#
#########

.#######.
.#.....#.
.#O##..##
##.##.*.#
#.*..**.#
#.OOO.#.#
#.P.....#
#########


USER PROMPT:
Output the code for a complete PuzzleScript game. First, reason about your task and determine the best plan of action. Then, write your code. Return your code in full, inside a ```plaintext code block.