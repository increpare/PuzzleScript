title Unclean Residues 
author Stephen Lavelle
homepage www.puzzlescript.net


run_rules_on_level_start
========
OBJECTS
========

Background
darkblue darkgreen
00000
00010
00000
01000
00000


Target
pink
.....
.0.0.
.....
.0.0.
.....


Wall
darkgray darkbrown gray 
00010
11111
01000
11111
00010


Player
darkbrown brown darkbrown  black darkred
.000.
.111.
42224
14441
.3.3.



Crate
Orange  brown
.000.
11000
11000
11100
.111.

c_u
lightgreen lightgreen
.000.
.111.
..1..
.....
.....

c_d
green green
.....
.....
..1..
.111.
.000.

c_l
green green
.....
01...
011..
01...
.....

c_r
lightgreen lightgreen
.....
...10
..110
...10
.....

=======
LEGEND
=======

c = c_u or c_d or c_l or c_r
. = Background
# = Wall
P = Player
* = Crate
@ = Crate and Target
O = Target
s = crate and c_u and c_d and c_l and c_r
d = s and target

=======
SOUNDS
=======

Crate MOVE 36772507

================
COLLISIONLAYERS
================

Background
Player, Wall, Crate
c_u
c_d
c_l
c_r
Target

======
RULES
======

[ >  Player | Crate ] -> [  >  Player | > Crate  ]
[ >  crate | Crate ] -> [  >  crate | > Crate  ]

[moving crate c] -> [ moving crate moving c]


up [ c_u | < player ] -> cancel
down [ c_d | < player ] -> cancel
left [ c_l | < player ] -> cancel
right [ c_r | < player ] -> cancel


late up [ c_u | crate ] -> [c_u|c_d crate]
late down [ c_d | crate ] -> [c_d|c_u crate]
late left [ c_l | crate ] -> [c_l|c_r crate]
late right [ c_r | crate ] -> [c_r|c_l crate]

late [ c no crate ] -> cancel


==============
WINCONDITIONS
==============

All Target on Crate

=======
LEVELS
=======


message Level 1 of 6

message Place all the stones on the markers BUT BE WARY OF CONTAMINATION


(ok?)
###############
#.............#
#.............#
#...o.o.*.s...#
#........p....#
#...o.o.s.*...#
#.............#
#.............#
###############


message Level 2 of 6

(medium)
########
#......#
#......#
#..#p..#
#..s@..#
#..o@..#
#......#
#......#
########



message Level 3 of 6


(ok? too easy?)
#########
#.......#
#.......#
#.**os*.#
#.##o##.#
#...o.p.#
#...o...#
#########



message Level 4 of 6

#########
#.......#
#...*...#
#..*s*..#
#.......#
#..o.op.#
#..o.o..#
#.......#
#########


message Level 5 of 6

#########
#.......#
#.......#
#..oso..#
#..*o*..#
#..oso..#
#..*o*..#
#...p...#
#.......#
#########

message OH NO THE WALLS ARE CLOSING IN
message level 6 of 6

(hard mode)
#######
#.....#
#.oso.#
#.*o*.#
#.oso.#
#.*o*.#
#..p..#
#######

message CONGRATULATIONS 

(====================================

#########
#.......#
#.......#
#...*...#
#..*s*..#
#.......#
#..o.op.#
#..o.o..#
#.......#
#########


#########
#.......#
#.......#
#...*...#
#..*s*..#
#..ooo..#
#...o.p.#
#.......#
#.......#
#########

(too similar leve to 1)
#############
#...........#
#...........#
#...........#
#...o.*.o...#
#...........#
#...s.p.s...#
#...........#
#...o.*.o...#
#...........#
#...........#
#...........#
#############

(insoluble?)
###########
#....o....#
#....o....#
#.***os**.#
#.###o###.#
#....o.p..#
#....o....#
###########

(oh this is an ok multiban level -_-)
#########
#...o...#
#.**o**.#
#.##o##.#
#...o.p.#
#########


#########
#.......#
#...o...#
#.**os*.#
#.##o##.#
#...o.p.#
#.......#
#########

#########
#...o...#
#.**os*.#
#.##o##.#
#...o.p.#
#########

(too easy)

#######
#.....#
#.#*..#
#.*s..#
#...p.#
#.ooo.#
#.....#
#######


#########
#.......#
#.......#
#.*sos*.#
#.##o##.#
#...p...#
#...o...#
#########

#########
#.*.o...#
#...o.*.#
#.##@##.#
#...@.p.#
#########

#########
#.....###
#.#*..###
#.*s....#
#....p..#
#.o.o.o.#
#.......#
#########

#########
#.......#
#.#*....#
#.*s....#
#....p..#
#.o.o.o.#
#.......#
#########


(pretty easy)
#######
#.....#
#.po*.#
#.oso.#
#.*o*.#
#.....#
#######

(ok?)
###############
#.............#
#.............#
#......s......#
#.............#
#..s.o.o......#
#.............#
#........s....#
#...p.........#
#......*.o.o..#
#.............#
#.............#
###############

(meh)
##########
#........#
#........#
#...o*o..#
#...o....#
#...ss.p.#
#...ss...#
#....o...#
#..o*o...#
#........#
#........#
##########



(not so hard)
#######
#.....#
#.OsO.#
#.*O*.#
#.O*O.#
#.*O*.#
#..P..#
#######

(too easy)
.......
.......
..*os..
..o.o..
..so*..
...p...
.......


#####.
#O..##
#P*.#.
##...#
.##..#
..##O#
...###


#######
#.....#
#.OsO.#
#.*O*.#
#.O*O.#
#.*O*.#
#..P..#
#######


......#####
......#O..#
......#O#.#
#######O#.#
#.P.*.*.*.#
#.#.#.#.###
#.......#..
#########..

################
#..............#
#.ooo......ooo.#
#.....ss.*.....#
#.....ss.*.....#
#..........p...#
#..............#
#..............#
################

############
#..........#
#.ooo..p...#
#.ooo......#
#..........#
#....ss.*..#
#....ss.*..#
#..........#
#..........#
#..........#
############

###############
#.............#
#.............#
#..ooo.ss.*...#
#..ooo.ss.*...#
#.............#
#.....p.......#
#.............#
###############

###############
#.............#
#.............#
#...oo.s.*....#
#...oo.s.*....#
#.............#
#.....p.......#
#.............#
###############


###############
#.............#
#.............#
#...o.o.s.*...#
#........p....#
#...o.o.s.*...#
#.............#
#.............#
###############

#############
#...........#
#...........#
#......s....#
#...........#
#..s.o.o....#
#.....p.....#
#....o.o.s..#
#...........#
#....*......#
#...........#
#...........#
#############

###############
#.............#
#.............#
#...o.o.*.*...#
#........p....#
#...o.o.s.*...#
#.............#
#.............#
###############

####################
#..................#
#..................#
#...o.o....*.*.....#
#........p.........#
#...o.o....s.*.....#
#..................#
#..................#
####################

###################
#.................#
#.................#
#..o.o.o.p.s.*.*..#
#.................#
#.................#
###################


###################
#.................#
#.................#
#..o.o.o.p.s.*.*..#
#.................#
#.................#
###################



#################
#...............#
#...............#
#...............#
#...............#
#...............#
#.....p.s.*.....#
#...............#
#...............#
#...............#
#...............#
#...............#
#################

#######################
#.....................#
#.....................#
#.....................#
#.....o.*.o...........#
#.....................#
#.....s.p.s...........#
#.....................#
#.....o.*.o...........#
#.....................#
#.....................#
#.....................#
#######################

####..
#.O#..
#..###
#@P..#
#..*.#
#..###
####..


######
#....#
#.#P.#
#.*@.#
#.O@.#
#....#
######



#############
#...........#
#.o.o.s.*...#
#......p....#
#.o.o.s.*...#
#...........#
#############

#############
#...........#
#.ooo.s.**..#
#....p......#
#...........#
#...........#
#############
)